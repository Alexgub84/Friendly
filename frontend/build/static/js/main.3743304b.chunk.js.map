{"version":3,"sources":["assets/img/hero1.jpg","assets/img/about1.png","assets/img/about2.png","assets/img/about3.png","assets/img/category sync /^/.//.*/.png$","assets/img/category/cat.png","assets/img/category/dog.png","assets/img/category/farm.png","assets/img/category/other.png","assets/img/logo.png","assets/img/logo-with-title.png","assets/img/insta.png","services/httpService.js","services/petService.js","store/actions/petActions.js","cmps/FilterSearch.jsx","cmps/Hero.jsx","cmps/About.jsx","pages/Home.jsx","cmps/Geolocation.jsx","services/userService.js","store/actions/userActions.js","services/shopService.js","store/actions/shopActions.js","pages/SignUp.jsx","cmps/TagsFilter.jsx","cmps/CategoryList.jsx","cmps/PetFilter.jsx","cmps/PetPreview.jsx","cmps/PetList.jsx","pages/PetApp.jsx","pages/PetEdit.jsx","services/chatService.js","store/actions/chatActions.js","services/orderService.js","store/actions/orderActions.js","cmps/AdoptionMsgModal.jsx","pages/PetDetails.jsx","cmps/UserData.jsx","cmps/OrderPreview.jsx","cmps/OrderList.jsx","cmps/OrderListModal.jsx","cmps/GoogleMap.jsx","pages/ShopDetails.jsx","cmps/LoginModal.jsx","cmps/NavBar.jsx","pages/userProfile.jsx","cmps/Footer.jsx","services/socketService.js","cmps/Chat.jsx","App.jsx","serviceWorker.js","store/reducers/petReducer.js","store/reducers/shopReducer.js","store/reducers/userReducer.js","store/reducers/orderReducer.js","store/reducers/chatReducer.js","store/store.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","axios","Axios","create","withCredentials","endpoint","data","ajax","a","method","url","res","console","log","dir","response","status","window","location","assign","petService","query","getPetById","save","remove","filterBy","httpService","params","filtered","filterPets","pet","_id","petId","pets","filteredPets","txt","trim","words","split","length","forEach","word","filter","name","toLowerCase","includes","type","gender","size","summary","description","shop","fullName","distance","range","userLoc","lat","lng","lon","petLoc","distanceFromUser","SphericalUtil","computeDistanceBetween","loadPets","dispatch","savePet","petToSave","removePet","setFilter","_FilterSearch","state","isClearShown","onInputChange","ev","target","value","setState","parent","onSearch","keyPress","keyCode","onClear","props","history","push","this","prevProps","className","autoComplete","placeholder","onChange","onKeyDown","icon","faSearch","onClick","faTimesCircle","Component","mapDispatchToProps","FilterSearch","withRouter","connect","petReducer","Hero","bgImage","require","bgImageAlt","strength","About","to","src","alt","_Home","user","Home","userReducer","loggedInUser","Geolocation","setLocToFind","loc","findLocation","getLatLng","cb","geocoder","key","find","err","latLang","getGeolocation","OutlinedInput","event","signupHandleChange","React","login","logout","signup","getUsers","getById","userId","getMiniById","update","userCred","sessionStorage","clear","loadUsers","userService","users","updateUser","userToSave","userCreds","_user","shopService","getMiniByUserId","getByUserId","updatedAt","Date","now","toLocaleString","createdAt","reviews","shopId","loadShops","shops","saveShop","shopToSave","_SignUp","userAdopt","userShop","signupCred","setUserAdopt","setUserShop","prevState","doSignup","preventDefault","username","password","address","email","phone","msg","imgUrl","substring","indexOf","isOwner","isGuest","lastSignUpUser","signUpShop","currUser","title","desc","locName","owner","parseFloat","signupCreds","latLng","onSubmit","FormControl","InputLabel","htmlFor","Select","native","inputProps","aria-label","label","multiline","getUserById","SignUp","shopReducer","TagsFilter","male","female","onGenderChange","genderDefault","onDistanceChange","onShow","onToggleFilterModal","tag","index","Switch","faMars","faVenus","FormGroup","displayGenderBtns","handleChange","Input","min","Button","variant","CategoryList","dog","cat","farm","other","imgClicked","onCategoryChange","classStr","displayTypesBtn","_PetFilter","breed","isModalShown","tags","getUserPosition","position","coords","latitude","longitude","onFilterChange","obj","onSetCategory","_type","handleInput","field","onApplyFilter","resetFilter","onToggleTag","splice","navigator","geolocation","getCurrentPosition","error","message","PetFilter","_PetPreview","isLiked","loveIconClass","onUpdateReaction","reaction","updatedReacts","reacts","react","count","JSON","parse","stringify","isAdopted","imgUrls","PetPreview","_PetList","onRemove","onEdit","popPets","notPopPets","isEmptyFilter","PetList","_PetApp","sortBy","isReady","resetFitler","_","scroll","scrollToTop","PetApp","_PetEdit","checked","onSubmitForm","match","petToEdit","TextField","defaultValue","adoptedAt","toISOString","substr","InputLabelProps","shrink","bDate","isInRisk","PetEdit","chatService","filterName","queryStr","chat","chatId","getChatById","toggleChat","chatInfo","orderService","order","orderId","loadOrders","orders","saveOrder","orderToSave","AdoptionMsgModal","_PetDetails","isOwnerOfPet","adoptButton","currComment","AdoptionModalMsg","getCurrPet","petToShow","onAdopt","buyer","setTimeout","onRemovePet","onToggleChat","handleCommentInput","onComment","comment","comments","by","unshift","getComponentData","cuurComment","getTimeToString","time","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","getUserId","ownerId","FacebookShareButton","quote","hashtag","FacebookIcon","WhatsappShareButton","WhatsappIcon","TwitterShareButton","TwitterIcon","idx","faHeart","faCalendarAlt","toFixed","faExpandArrowsAlt","faVenusMars","faAlignLeft","faStar","rate","rating","fullWidth","PetDetails","UserData","display","birthDate","parseInt","familyStatus","numberOfKds","residence","petCondition","currrenPets","prevExperince","_OrderPreview","showUserModal","isUndreadMsg","setUnreadCount","chats","members","msgs","some","isRead","authorId","onToggleModal","orderClass","preProps","onSave","isShop","isModalClass","inModal","btnIcon","faInfoCircle","faComment","style","OrderPreview","chatReducer","_OrderList","msgDivClass","changePetAdoptionStatus","orderCheck","filterById","orderFilterName","removeOrder","OrderList","orderReducer","OrderListModal","isOpen","onToggleOrderModal","_GoogleMap","zoom","onMarkerClick","marker","onMapClicked","mapProps","onMapPassLoc","initialCenter","center","google","visible","GoogleMap","GoogleApiWrapper","apiKey","_ShopDetails","shopPets","shopOwner","isOpenReviews","isOpenOrders","currReview","loadShopData","getShopById","currShop","onAddReview","review","onToggleReviewModal","drawStars","stars","i","isOrderModal","faMale","faFemale","faMobileAlt","contact","faEnvelope","faAngleDoubleUp","ShopDetails","currChat","_LoginModal","loginCred","userName","showModal","loginHandleChange","closeModal","onNavBarClick","doLogin","autoFocus","required","removeUser","getChatsByUserId","LoginModal","_NavBar","showLoginModal","showChatsList","pathName","componentDidUpdate","onLogOut","onToggleChats","pathname","faComments","NavBar","isChatShown","_userProfile","getUserOrders","userProfile","Footer","href","socketService","socket","setup","io","on","eventName","off","emit","terminate","createSocketService","_Chat","topic","recipient","sender","setRecipientInfo","setSocket","addMsg","creatNewChat","isDemo","newMsg","saveChat","sendMsg","msgHandleChange","onClose","displayMsg","classTxt","isAuthor","getHours","getMinutes","currChatInfo","getChatIfExists","member","faTimes","slice","reverse","faPaperPlane","Chat","_App","onToggleChatsList","component","path","App","Boolean","hostname","initialState","localLoggedinUser","currChatId","rootReducer","combineReducers","action","chatToSave","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.3743304b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hero1.8b5847e5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about1.679fdfa6.png\";","module.exports = __webpack_public_path__ + \"static/media/about2.18fa0a8f.png\";","module.exports = __webpack_public_path__ + \"static/media/about3.3f0198c1.png\";","var map = {\n\t\"./cat.png\": 189,\n\t\"./dog.png\": 190,\n\t\"./farm.png\": 191,\n\t\"./other.png\": 192\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 188;","module.exports = __webpack_public_path__ + \"static/media/cat.269e723b.png\";","module.exports = __webpack_public_path__ + \"static/media/dog.1afb1629.png\";","module.exports = __webpack_public_path__ + \"static/media/farm.976d3f34.png\";","module.exports = __webpack_public_path__ + \"static/media/other.6672fc57.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.9b0c6cc2.png\";","module.exports = __webpack_public_path__ + \"static/media/logo-with-title.85dfceb8.png\";","module.exports = __webpack_public_path__ + \"static/media/insta.e77ccb90.png\";","import Axios from 'axios';\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/api'\n    : '//localhost:3002/api'\n\n\nvar axios = Axios.create({\n    withCredentials: true\n});\n\nexport default {\n    get(endpoint, data) {\n        return ajax(endpoint, 'GET', data)\n    },\n    post(endpoint, data) {\n\n        return ajax(endpoint, 'POST', data)\n    },\n    put(endpoint, data) {\n        return ajax(endpoint, 'PUT', data)\n    },\n    delete(endpoint, data) {\n        return ajax(endpoint, 'DELETE', data)\n    }\n}\n\nasync function ajax(endpoint, method = 'get', data = null) {\n    try {\n        const res = await axios({\n            url: `${BASE_URL}${endpoint}`,\n            method,\n            data\n        })\n        return res.data;\n    } catch (err) {\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\n        console.dir(err);\n        if (err.response && err.response.status === 401) {\n            window.location.assign('/#/');\n        }\n        throw err;\n    }\n}","import httpService from './httpService.js'\nimport {SphericalUtil} from \"node-geometry-library\";\nconst BASE_URL = '/pet'\n\nexport const petService = {\n    query,\n    getPetById,\n    save,\n    remove\n}\n\nasync function query(filterBy) {\n    let queryStr = '';\n    //todo - change after building backend\n    // if (filterBy){\n    //     filterBy.type = filterBy.type.charAt(0).toUpperCase()+filterBy.type.slice(1);\n    //     queryStr = '?' + Object.keys(filterBy).map(key => key + '=' + filterBy[key]).join('&');\n\n    // }    \n    const res = await httpService.get(`${BASE_URL}${queryStr}`, {\n        params: filterBy\n    });\n    const filtered = filterPets(res, filterBy);\n    return filtered;\n}\nasync function getPetById(id) {\n    const res = await httpService.get(`${BASE_URL}/${id}`);\n    return res;\n}\nasync function save(pet) {\n    if (pet._id) {\n        // pet.updatedAt = new Date(date.now()).toLocaleString();\n        const res = await httpService.put(`${BASE_URL}/${pet._id}`, pet)\n        return res;\n    } else {\n        // pet.createdAt = new Date(date.now()).toLocaleString();\n        const res = await httpService.post(`${BASE_URL}`, pet)\n        return res;\n    }\n}\nasync function remove(petId) {\n    await httpService.delete(`${BASE_URL}/${petId}`)\n}\n\nfunction filterPets(pets, filterBy) {\n    if (!filterBy) return pets\n\n    let filteredPets = pets\n    if (filterBy.txt) {\n        filterBy.txt = filterBy.txt.trim(' ');\n        filterBy.txt = filterBy.txt.trim(',');\n\n        let words = filterBy.txt.split(' ');\n        if (words.length = 1) words = filterBy.txt.split(',');\n\n        words.forEach(word => {\n            filteredPets = filteredPets.filter(pet => {\n                if (pet.name.toLowerCase().includes(word) ||\n                    pet.type.toLowerCase().includes(word) ||\n                    pet.gender.toLowerCase().includes(word) ||\n                    pet.size.toLowerCase().includes(word) ||\n                    pet.summary.toLowerCase().includes(word) ||\n                    pet.description.toLowerCase().includes(word) ||\n                    pet.shop.fullName.toLowerCase().includes(word)) return pet\n            })\n        })\n    }\n\n\n    filteredPets = filteredPets.filter(pet => {\n        return pet.type.toLowerCase().includes(filterBy.type)\n    })\n\n\n    if (filterBy.distance.range) {\n        const userLoc = {lat: filterBy.distance.lat, lng: filterBy.distance.lon};\n        filteredPets = filteredPets.filter(pet => {\n            const petLoc = {lat:pet.location.lat, lng:pet.location.lng };\n            const distanceFromUser = SphericalUtil.computeDistanceBetween(userLoc, petLoc)/1000\n            console.log('distanceFromUser',distanceFromUser)\n            return  distanceFromUser <= filterBy.distance.range\n        })\n    }\n\n    return filteredPets\n}","import { petService } from \"../../services/petService.js\"\n\nexport function loadPets(filterBy) {\n    return async dispatch => {\n        const pets = await petService.query(filterBy);\n        dispatch({ type: 'LOAD_PETS', pets });\n    }\n}\n\nexport function savePet(pet) {\n    return async dispatch => {\n        const petToSave = await petService.save(pet);\n        if (pet._id) dispatch({ type: 'EDIT_PET', petToSave });\n        else dispatch({ type: 'ADD_PET', petToSave });\n    }\n}\n\nexport function removePet(petId) {\n    return async dispatch => {\n       await petService.remove(petId);\n       dispatch({ type: 'REMOVE_PET', petId })\n    }\n}\n\nexport function setFilter(filterBy){\n    return dispatch => {\n        dispatch({ type: 'SET_FILTER', filterBy })\n    }\n}\n\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { setFilter, loadPets } from '../store/actions/petActions.js'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch, faTimesCircle } from '@fortawesome/free-solid-svg-icons'\nimport { animateScroll as scroll } from \"react-scroll\";\n\n\nclass _FilterSearch extends Component {\n\n    state = {\n        txt: '',\n        isClearShown: false\n    }\n\n    async componentDidMount() {\n        await this.setState({ txt: this.props.filterBy.txt });\n        await this.setState({ parent: this.props.parent });\n        this.setState({ isClearShown: this.state.txt !== '' })\n        if (this.props) {\n            console.log(this.props);\n        }\n\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps !== this.props) {\n            this.setState({ txt: this.props.filterBy.txt });\n            this.setState({ isClearShown: this.state.txt !== '' })\n        }\n    }\n\n    onInputChange = async (ev) => {\n        console.log(ev.target.value);\n        const txt = ev.target.value;\n        this.setState({ isClearShown: txt !== '' })\n        await this.setState({ txt });\n        if (!txt && this.state.parent !== 'hero') await this.onSearch();\n    }\n    keyPress = (e) => {\n        if (e.keyCode == 13) {\n            this.onSearch();\n\n        }\n    }\n    onClear = async () => {\n        this.setState({ txt: '' })\n        this.props.setFilter({ txt: '' }, () => this.props.loadPets())\n        this.setState({ isClearShown: false })\n    }\n\n    onSearch = async () => {\n        await this.props.setFilter({ txt: this.state.txt }, () => this.props.loadPets())\n        console.log(this.props)\n\n        if (this.state.parent === 'hero') this.props.history.push('/pet')\n\n    }\n\n    render() {\n        return (\n            <section className=\"search-container flex\">\n                <div className=\"input-container\">\n                    <input className=\"search\"\n                        type=\"text\"\n                        name=\"search\"\n                        value={this.state.txt}\n                        autoComplete=\"off\"\n                        placeholder=\"Find a friend (i.e. small, cat, puppy)\"\n                        onChange={(ev) => this.onInputChange(ev)}\n                        onKeyDown={this.keyPress} />\n                    <FontAwesomeIcon className=\"search-icon\" icon={faSearch} />\n                    <FontAwesomeIcon className={this.state.isClearShown ? 'clear-icon' : 'clear-icon hidden'}\n                        onClick={this.onClear} icon={faTimesCircle} />\n                </div>\n                <div className=\"btn-search\" onClick={this.onSearch}>Search</div>\n                {/* <div className=\"icons-container\">\n                </div> */}\n            </section>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        filterBy: state.petReducer.filterBy\n    }\n}\n\nconst mapDispatchToProps = {\n    setFilter,\n    loadPets\n}\n\nexport const FilterSearch = withRouter(connect(mapStateToProps, mapDispatchToProps)(_FilterSearch));\n\n\n","import React, { Component } from 'react'\nimport { FilterSearch } from './FilterSearch'\nimport { Parallax, Background } from 'react-parallax';\nexport class Hero extends Component {\n\n\n\n    render() {\n        return (\n            <Parallax\n            className = 'hero-container'\n            bgImage={require('../assets/img/hero1.jpg')}\n            bgImageAlt=\"the cat\"\n            strength={800}\n            // style={{width:\"100%\"}}\n        >\n            \n            {/* <div style={{ height: '600px' }} /> */}\n        \n            <div className=\"hero-container full\">\n                <div className=\"hero-content\">\n                    <h1 className=\"hero-heading-up\"><span className=\"span\">Friendly.</span> Adopt a <span className=\"span\">pet</span> </h1>\n                    <h1 className=\"hero-heading\">Discover your next best friend</h1>\n                    <FilterSearch parent='hero' />\n                    <section className=\"category-container\">\n                        {/* <CategoryList/> */}\n                    </section>\n                </div>\n            </div>\n            </Parallax>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\n\nexport class About extends Component {\n    render() {\n        return (\n            <div className=\"about-main-container full\">\n                <div className=\"about-left\">\n                    <div className=\"about-headings\">\n                        <h1>Friendly connects adoption centers to potential adopters</h1>\n                    </div>\n                    <div className=\"call-to-action\">\n                       <Link to=\"/pet\"><button className=\"go-to-gallery-btn\">Let's See Some Animals</button></Link> \n                    </div>\n                </div>\n                <div className=\"about-right\">\n                    <div className=\"adoption-reasons-box\">\n                        <h3 className=\"adoption-reasons-header\">Why Should I Adopt?</h3>\n                        <p>Decrease blood pressure.</p>\n                        <p>Decrease feelings of loneliness.</p>\n                        <p>Increase opportunities for exercise and outdoor activities.</p>\n                        <p className=\"adoption-reason-last\">Increase opportunities for socialization.</p>\n                    </div>\n                    <div className=\"images-box\">\n                        <img className=\"img-1\" src={require('../assets/img/about1.png')} alt=\"\" />\n                        <img className=\"img-2\" src={require('../assets/img/about2.png')} alt=\"\" />\n                        <img className=\"img-3\" src={require('../assets/img/about3.png')} alt=\"\" />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Hero } from '../cmps/Hero'\nimport { loadPets } from '../store/actions/petActions.js'\nimport { About } from '../cmps/About'\n\nclass _Home extends Component {\n\n    state = {\n        pets: [],\n    }\n\n    componentDidMount() {\n        this.loadPets()       \n    }\n    \n\n    loadPets = () => {\n        this.props.loadPets()\n    }\n\n    render() {\n        const {user} = this.props\n        return (\n            <div>\n\n                <Hero />\n                <About />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        pets: state.petReducer.pets,\n        user: state.userReducer.loggedInUser\n    }\n}\nconst mapDispatchToProps = {\n    loadPets\n}\n\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)","import React from 'react'\nimport { OutlinedInput } from '@material-ui/core';\n\nexport class Geolocation extends React.Component {\n\n    state = {\n        lat: 0,\n        lng: 0\n    }\n\n    setLocToFind = async (ev) => {\n        const loc = ev.target.value;\n        console.log('find:', loc);\n        const res = await this.findLocation(loc, this.getLatLng);\n    }\n\n    findLocation = async (loc, cb) => {\n        const geocoder = require('google-geocoder');\n        const geo = geocoder({\n            key: 'AIzaSyDGql0MyVMEQeH89LQj0TtpM66SoLpkAhw'\n        });\n        geo.find(loc, cb);\n    }\n\n    getLatLng = async (err, res) => {\n        const data = await res;\n        if (data && data.length > 0) {\n            await this.setState({\n                lat: data[0].location.lat,\n                lng: data[0].location.lng\n            })\n           const latLang = {\n                lat:this.state.lat,\n                lng:this.state.lng\n            }\n            this.props.getGeolocation(latLang);\n        }\n    }\n\n    render() {\n        const latLng = this.state;\n        if (!latLng) return <h1>LOADING...</h1>\n        return (\n            <div className=\"flex column align-center\">\n                <OutlinedInput type=\"text\" name=\"locName\" placeholder=\"Your Shop Location\"\n                    onChange={(event) => {\n                        this.setLocToFind(event);\n                        this.props.signupHandleChange(event)\n                    }}/>\n            </div>\n        )\n    }\n}","import httpService from './httpService'\nconst BASE_URL_AUTH = '/auth'\nconst BASE_URL_USER = '/user'\n\nexport default {\n    login,\n    logout,\n    signup,\n    getUsers,\n    getById,\n    getMiniById,\n    remove,\n    update\n}\n\nfunction getUsers() {\n    return httpService.get('user')\n}\n\nfunction getById(userId) {\n    return httpService.get(`${BASE_URL_USER}/${userId}`)\n}\n\n function getMiniById(userId) {\n    return httpService.get(`${BASE_URL_USER}/mini/${userId}`);\n}\n\nfunction remove(userId) {\n    return httpService.delete(`${BASE_URL_USER}/${userId}`)\n}\n\nfunction update(user) {\n    return httpService.put(`${BASE_URL_USER}/${user._id}`, user)\n}\n\nasync function login(userCred) {\n    const res = await httpService.post(`${BASE_URL_AUTH}/login`, userCred);\n    return res;                              \n}\n\nasync function signup(user) {\n    const res = await httpService.post(`user`, user);\n    return res[0] \n}\n\nasync function logout() {\n    await httpService.post(`${BASE_URL_AUTH}/logout`);\n    sessionStorage.clear();\n}\nfunction _handleLogin(user) {\n    sessionStorage.setItem('user', JSON.stringify(user))\n    return user;\n}\n\nfunction _makeId(length = 6) {\n    var txt = '';\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return txt;\n}","import userService from \"../../services/userService\";\n\nexport function loadUsers() {\n    return async dispatch => {\n        try {\n            const users = await userService.getUsers();\n            dispatch({\n                type: 'SET_USERS',\n                users\n            });\n        } catch (err) {\n            console.log('UserActions: err in loadUsers', err);\n        }\n    }\n}\n\nexport async function getUserById(id) {\n    const user = await userService.getById(id);\n    return user;\n}\n\nexport function removeUser(userId) {\n    return async dispatch => {\n        try {\n            await userService.remove(userId);\n            dispatch({\n                type: 'USER_REMOVE',\n                userId\n            });\n        } catch (err) {\n            console.log('UserActions: err in removeUser', err);\n        }\n    };\n}\n\nexport function updateUser(user) {\n    return async dispatch => {\n        const userToSave = await userService.update(user);\n        dispatch({\n            type: 'UPDATE_USER',\n            userToSave\n        });\n    };\n}\n\nexport function login(userCreds) {\n    return async dispatch => {\n        const user = await userService.login(userCreds);\n        dispatch({\n            type: 'SET_USER',\n            user\n        });\n    };\n}\nexport function signup(_user) {\n    return async dispatch => {\n        const user = await userService.signup(_user);\n        dispatch({\n            type: 'SET_USER',\n            user\n        });\n    };\n}\nexport function logout() {\n    return async dispatch => {\n        await userService.logout();\n        dispatch({\n            type: 'LOGOUT'\n        });\n    };\n}","import httpService from './httpService.js'\nconst BASE_URL = '/shop'\n\n\nexport const shopService = {\n    query,\n    getById,\n    getMiniByUserId,\n    getByUserId,\n    save,\n    remove\n}\n\nasync function query() {\n    const res = await httpService.get(`${BASE_URL}`);\n    return res;\n}\n\nasync function getById(id) {\n    const res = await httpService.get(`${BASE_URL}/${id}`);\n    return res;\n}\n\nfunction getMiniByUserId(id) {\n    return httpService.get(`${BASE_URL}/mini/${id}`);\n}\n\nasync function getByUserId(id) {\n    const res = await httpService.get(`${BASE_URL}/owner/${id}`);\n    return res;\n}\n\nasync function save(shop) {\n    if (shop._id) {\n        shop.updatedAt = new Date(Date.now()).toLocaleString();\n        const res = await httpService.put(`${BASE_URL}/${shop._id}`, shop)\n        return res;\n\n    } else {\n        shop.createdAt = new Date(Date.now()).toLocaleString();\n    }\n    shop.pets = [];\n    shop.reviews = [];\n    const res = await httpService.post(`${BASE_URL}`, shop)\n    return res;\n}\n\n\nasync function remove(shopId) {\n    await httpService.delete(`${BASE_URL}/${shopId}`)\n}\n\n\nfunction _makeId(length = 6) {\n    var txt = '';\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return txt;\n}","import { shopService } from \"../../services/shopService.js\"\n\nexport function loadShops() {\n    return async dispatch => {\n        const shops = await shopService.query();\n        dispatch({ type: 'LOAD_SHOPS', shops });\n    }\n}\n\nexport function getShopById(shopId) {\n    return async dispatch => {\n        const shop = await shopService.getById(shopId);\n        dispatch({ type: 'GET_SHOP', shop });\n    }\n}\n\nexport function saveShop(shop) {\n    return async dispatch => {\n        const shopToSave = await shopService.save(shop);\n        if (shop._id) dispatch({ type: 'EDIT_SHOP', shopToSave });\n        else dispatch({ type: 'ADD_SHOP', shopToSave });\n    }\n}\n\nexport function removeShop(shopId) {\n    return async dispatch => {\n       await shopService.remove(shopId);\n       dispatch({ type: 'REMOVE_SHOP', shopId })\n    }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { OutlinedInput } from '@material-ui/core';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport { Geolocation } from '../cmps/Geolocation';\n\nimport { signup, getUserById, updateUser, login, loadUsers } from '../store/actions/userActions'\nimport { saveShop, loadShops } from '../store/actions/shopActions'\n\n\nexport class _SignUp extends Component {\n\n    state = {\n        userAdopt: false,\n        userShop: false,\n        signupCred: ''\n    }\n\n    setUserAdopt = () => {\n        this.setState({ userAdopt: true, userShop: false })\n    }\n    setUserShop = () => {\n        this.setState({ userShop: true, userAdopt: false })\n    }\n\n    signupHandleChange = async ev => {\n        const { name, value } = ev.target;\n        await this.setState(prevState => ({\n            signupCred: {\n                ...prevState.signupCred,\n                [name]: value\n            }\n        }));\n        console.log('This State:', this.state);\n    };\n\n    doSignup = async ev => {\n        ev.preventDefault();\n        const { userAdopt, userShop } = this.state;\n        const { fullName, username, password, address, email, phone } = this.state.signupCred;\n        if (!fullName || !username || !password || !address) {\n            return this.setState({ msg: 'All inputs are required!' });\n        }\n        const user = {\n            fullName: fullName,\n            username: username,\n            password: password,\n            imgUrl: `https://ui-avatars.com/api/?name=${fullName.substring(0, 1)}+${fullName.substring(fullName.indexOf(' ') + 1, fullName.indexOf(' ') + 2)}`,\n            address: address,\n            email: email,\n            phone: phone,\n            isOwner: userShop,\n            isGuest: false\n        };\n        await this.props.signup(user);\n        await this.props.loadUsers();\n        const lastSignUpUser = this.props.users[this.props.users.length - 1]\n        console.log('userNow:',lastSignUpUser);\n        this.setState({ signupCred: { fullName: '', username: '', password: '', address: '', email: '', phone: '' } });\n        if (userShop) {\n            this.signUpShop(lastSignUpUser);\n        } \n        this.props.history.push(`/`);\n    }\n\n    signUpShop = async (currUser) => {\n        const { name, type, title, desc, locName, lat, lng } = this.state.signupCred;\n        if (!name || !type || !title || !desc || !locName) {\n            return this.setState({ msg: 'All inputs are required!' });\n        }\n\n        const owner = {\n            _id: currUser._id,\n            fullName: currUser.fullName,\n            imgUrl: currUser.imgUrl\n        }\n        const location = {\n            name: locName,\n            lat: parseFloat(lat),\n            lng: parseFloat(lng)\n        }\n        const signupCreds = { name, type, owner, title, desc, location };\n        this.props.saveShop(signupCreds);\n        currUser.isOwner = true;\n        await this.props.updateUser(currUser)\n        this.setState({\n            signupCred: {\n                name: '', type: '', owner: '', title: '', description: '', location: ''\n            }\n        });\n        // await this.props.loadShops();\n        // const shopId = this.props.shops.find(shop => { return shop.owner._id === currUser._id })._id;\n        // this.props.history.push(`/shop/${shopId}`)\n    }\n\n    getGeolocation = (latLng) => {\n        this.setState({\n            signupCred: {\n                ...this.state.signupCred,\n                lat: latLng.lat,\n                lng: latLng.lng\n            }\n        })\n    }\n\n    render() {\n        const { userAdopt, userShop } = this.state\n        const { loggedInUser } = this.props\n        console.log('this.state.signupCred', this.state.signupCred);\n        return (\n            <div className=\"form-container flex column align-center\">\n                <h1>We are happy you decided to join us!</h1>\n                <p>Do you want to adopt or to find adopters for your animals?</p>\n                <div className=\"btn-menu flex\">\n                    <button onClick={() => { this.setUserAdopt() }}>Adopt</button>\n                    <button onClick={() => { this.setUserShop() }}>Find Adopters</button>\n                </div>\n                <div className=\"fields-container flex column align-center\">\n                    {(userAdopt) ? <h3>New Adopter</h3> :\n                        <h3>Please filled out this form so we will be able to get to know you and your animals</h3>}\n                    <form className=\"flex column align-center\" onSubmit={this.doSignup}>\n                        <div className=\"flex\">\n                            <div className=\"flex column align-center\">\n                                <br />\n                                <OutlinedInput type=\"text\" name=\"fullName\" placeholder=\"Full Name\" onChange={this.signupHandleChange} value={this.state.signupCred.fullName}></OutlinedInput>\n                                <OutlinedInput type=\"text\" name=\"username\" placeholder=\"User Name\" onChange={this.signupHandleChange} value={this.state.signupCred.username}></OutlinedInput>\n                                <OutlinedInput type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.signupHandleChange} value={this.state.signupCred.password}></OutlinedInput>\n                                <OutlinedInput type=\"text\" name=\"address\" placeholder=\"Personal Address\" onChange={this.signupHandleChange} value={this.state.signupCred.address}></OutlinedInput>\n                                <OutlinedInput type=\"text\" name=\"email\" placeholder=\"Email\" onChange={this.signupHandleChange} value={this.state.signupCred.email}></OutlinedInput>\n                                <OutlinedInput type=\"text\" name=\"phone\" placeholder=\"Phone\" onChange={this.signupHandleChange} value={this.state.signupCred.phone}></OutlinedInput>\n                            </div>\n                            {userShop &&\n                                <div className=\"flex column align-center\">\n                                    <OutlinedInput type=\"text\" name=\"name\" placeholder=\"Your Shop Name\"\n                                        onChange={this.signupHandleChange}></OutlinedInput>\n                                    <FormControl>\n                                        <InputLabel htmlFor=\"type\">Shop Type:</InputLabel>\n                                        <Select\n                                            native\n                                            onChange={this.signupHandleChange}\n                                            inputProps={{\n                                                name: \"type\",\n                                            }}>\n                                            <option aria-label=\"None\" value=\"\" />\n                                            <option value={\"shelter\"}>Shelter</option>\n                                            <option value={\"volunteer\"}>Volunteer</option>\n                                            <option value={\"private\"}>Private</option>\n                                        </Select>\n                                    </FormControl>\n                                    <OutlinedInput type=\"text\" name=\"title\" placeholder=\"Your shop title/catchFrase\"\n                                        onChange={this.signupHandleChange}></OutlinedInput>\n                                    <OutlinedInput\n                                        id=\"standard-textarea\"\n                                        label=\"Shop Description:\"\n                                        placeholder=\"Your shop short description\"\n                                        multiline\n                                        name=\"desc\"\n                                        onChange={this.signupHandleChange}\n                                    />\n                                    <Geolocation getGeolocation={this.getGeolocation}\n                                        signupHandleChange={this.signupHandleChange} />\n                                    <br />\n                                </div>}\n                        </div>\n                        <button>Signup</button>\n                    </form>\n                </div >\n            </div >\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        users: state.userReducer.users,\n        loggedInUser: state.userReducer.loggedInUser,\n        shops: state.shopReducer.shops\n    };\n};\n\nconst mapDispatchToProps = {\n    signup,\n    login,\n    loadUsers,\n    saveShop,\n    loadShops,\n    getUserById,\n    updateUser\n};\n\nexport const SignUp = connect(mapStateToProps, mapDispatchToProps)(_SignUp);","import React, { Component } from 'react';\n\nimport { Input,Button,Switch,FormGroup,InputLabel,Select } from '@material-ui/core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faMars } from '@fortawesome/free-solid-svg-icons'\nimport { faVenus } from '@fortawesome/free-solid-svg-icons'\n\n\nexport class TagsFilter extends Component {\n    \n    state={\n        gender:{\n            txt:'',\n            male:false,\n            female:false\n        },\n        distance:{\n            range:0\n        }\n\n    }\n\n    componentDidMount(){\n        // this.setState({...this.state)\n        console.log(this.props);\n    }\n\n    \n    onGenderChange=async (gender)=>{\n        let genderDefault={\n            male:false,\n            female:false\n        }\n        genderDefault = {...genderDefault,[gender]:!this.state.gender[gender]}\n        console.log(genderDefault);\n        await this.setState({...this.state,gender:{...genderDefault}})\n    }\n    onDistanceChange=async (ev)=>{\n        const distance=ev.target.value\n        console.log(distance);\n    }\n    \n    \n    \n    onShow=()=>{\n        if(this.state.gender.male!==this.gender.female) {\n            \n        }\n        // this.props.onFilterChange({'gender':gender})\n        console.log(this.state);\n        this.props.onToggleFilterModal();\n    }\n    onClear=()=>{\n\n    }\n    displayTags(tag,index){\n        return (\n            <div  key={index}>\n                <label htmlFor=\"\">{tag}</label>\n                <Switch type=\"checkbox\" name=\"\" value={tag} />\n            </div>\n        )\n    }\n    displayGenderBtns(){\n        const {gender}=this.state\n        return(\n            <section className=\"gender\">                    \n                <InputLabel htmlFor=\"\">Gender</InputLabel>\n                <div className={gender.male?'pet-gender pressed':'pet-gender'} onClick={()=>this.onGenderChange('male')}><FontAwesomeIcon  className=\" pet-gender-male-icon\"  icon={faMars} /></div>\n                <div className={gender.female?'pet-gender pressed':'pet-gender'} onClick={()=>this.onGenderChange('female')}><FontAwesomeIcon  className=\" pet-gender-female-icon\"  icon={faVenus} /></div>\n            </section>\n        )\n    }\n\n    render(){\n        const tags = [\"Kids friendly\",\"Healthy\",\"Energetic\",\"Sterilized\"]\n\n        return (\n            <div className=\"tags-modal\">\n                <div className=\"container\">\n                <FormGroup>\n                    {this.displayGenderBtns()}\n                    <section>\n\n                        <InputLabel htmlFor=\"age\">Age</InputLabel>\n                            <Select\n                                \n                                native\n                                onChange={this.props.handleChange}\n                                inputProps={{\n                                    name: 'age',\n                                    id: 'age-native-simple',\n                                }}\n                                >\n                                    <option aria-label=\"None\" value=\"\" />\n                                    <option value={1}>Puppy</option>\n                                    <option value={7}>Grown up</option>\n                                    <option value={15}>Old</option>\n                            </Select>\n                    </section>\n                    <section>\n                    <InputLabel htmlFor=\"size\">Size</InputLabel>\n                            <Select\n                                native\n                                onChange={this.props.handleChange}\n                                inputProps={{\n                                    name: 'size',\n                                    id: 'age-native-simple',\n                                }}\n                                >\n                                <option aria-label=\"None\" value=\"\" />\n                                <option value=\"small\">Small</option>\n                                <option value=\"medium\">Medium</option>\n                                <option value=\"big\">Big</option>\n                            </Select>\n\n                    </section>\n                   \n                    <section>\n                            <InputLabel htmlFor=\"\">{'Distance(km)'}</InputLabel>\n                            <Input type=\"number\" name=\"\" min=\"1\" id=\"\" onChange={this.onDistanceChange}/>\n                    </section>\n                    {/* <section >\n                        {tags.map((tag,index) => displayTags(tag,index))}\n                    </section> */}\n                    <section className=\"btns-container\"></section>\n                        <Button variant=\"contained\" onClick={this.onShow}>Show</Button>\n                        <Button variant=\"contained\" onClick={this.onClear}>Clear</Button>\n                </FormGroup>  \n                </div>  \n             </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\n\nexport class CategoryList extends Component {\n    \n    state={\n        dog:false,\n        cat:false,\n        farm:false,\n        other:false\n    }\n    \n\n\n    displayTypesBtn(type){\n        const classStr=this.state[type]?'pressed':'';\n        return(\n             <img key={type} src={require(`../assets/img/category/${type}.png`)} className={classStr} alt=\"Category\" onClick={(event)=>this.imgClicked(type)}/>\n        )\n    }\n     imgClicked=async (type)=>{\n         const state= {\n            dog:false,\n            cat:false,\n            farm:false,\n            other:false\n         }\n        if(this.state[type]) {\n            await this.setState({...state})\n            type='';\n        }else await this.setState({...state,[type]:!this.state.type})\n        this.props.onCategoryChange(type)\n    }\n    \n    render(){\n        \n        return (\n            <div className=\"category-list anchor\">\n                {\n                    Object.keys(this.state).map(type=>this.displayTypesBtn(type) )\n                }\n            </div>\n        )\n\n    }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { Input, InputLabel, Select } from '@material-ui/core';\n\nimport { TagsFilter } from './TagsFilter'\nimport { setFilter, loadPets } from '../store/actions/petActions.js'\nimport { FilterSearch } from './FilterSearch';\nimport { CategoryList } from './CategoryList';\n// import SearchIcon from '@material-ui/icons/Search';\n\nclass _PetFilter extends Component {\n\n    state = {\n        parent: '',\n        filterBy: {\n            type: '',\n            gender: '',\n            breed: '',\n            size: '',\n            txt: '',\n            distance: {\n                lat: 0,\n                lon: 0,\n                range: 0\n            }\n        },\n        isModalShown: false,\n        tags: []\n\n    }\n\n    async componentDidMount() {\n        await navigator.geolocation.getCurrentPosition(\n            this.getUserPosition,\n            function (error) {\n                console.error(\"Error Code = \" + error.code + \" - \" + error.message);\n            }\n        );\n    }\n\n    getUserPosition = async (position) => {\n        const distance = {\n            lat: position.coords.latitude,\n            lon: position.coords.longitude,\n            range: 0\n        }\n        await this.setState({ filterBy: { ...this.state.filterBy, distance: distance } });\n    }\n\n    onFilterChange = async (obj) => {\n        await this.props.setFilter({ ...this.props.filterBy, ...obj }, () => this.loadPets())\n    }\n\n    onSetCategory = async (_type) => {\n        await this.setState({\n            filterBy: {\n                ...this.state.filterBy,\n                type: _type\n            }\n        })\n        this.onFilterChange({ 'type': _type })\n    }\n\n    handleInput = async ({ target }) => {\n        const field = target.name;\n        if (target.type === 'number') var value = +target.value;\n        else value = target.value;\n        await this.setState(prevState => {\n            if (field === 'range') {\n                return {\n                    ...prevState,\n                    filterBy: {\n                        ...prevState.filterBy,\n                        distance: {\n                            ...prevState.filterBy.distance,\n                            [field]: value\n                        }\n                    }\n                }\n            } else {\n                return {\n                    ...prevState,\n                    filterBy: {\n                        ...prevState.filterBy,\n                        [field]: value\n                    }\n                }\n            }\n        });\n        this.onFilterChange( this.state.filterBy );\n    }\n\n    onToggleFilterModal = () => {\n        this.setState({ isModalShown: !this.state.isModalShown })\n    }\n    onApplyFilter = () => {\n        this.onToggleFilterModal()\n    }\n\n    resetFilter = async () => {\n\n        await this.setState({\n            ...this.state.filterBy,\n            type: '',\n            gender: '',\n            breed: '',\n            size: '',\n            txt: ''\n        });\n        this.props.setFilter(this.state.filterBy, () => this.props.loadPets())\n    }\n\n    onToggleTag = ev => {\n        const tag = ev.target.value;\n        let tags = [...this.state.tags]\n        if (tags.includes(tag)) {\n            tags.splice(tags.indexOf(tag), 1);\n        } else {\n            tags.push(tag)\n        }\n        this.setState({ tags })\n        console.log(this.state.tags);\n    }\n\n    render() {\n        const { isModalShown } = this.state\n        // const btnClass=parent==='hero'?'hero-btn more-btn':'gallery-btn more-btn';\n        return (\n            <div className=\"filter-container flex column align-center\">\n\n                <section className=\"search-container flex space-around\">\n                    <FilterSearch parent=\"main\" onInputChange={this.onInputChange} />\n                    {/* { <button className=\"more-btn\"  onClick={this.onToggleFilterModal}>More</button>} */}\n                </section>\n                <section className=\"category-container\">\n                    <CategoryList onCategoryChange={this.onSetCategory} />\n                </section>\n                <section>\n                    <InputLabel htmlFor='Distance(km)'>Distance(km)</InputLabel>\n                    <Select\n                        native\n                        onChange={this.handleInput}\n                        inputProps={{\n                            name: 'range',\n                            type: \"number\"\n                        }}\n                    >\n                        <option aria-label=\"None\" value=\"\" />\n                        <option value=\"20\">20km</option>\n                        <option value=\"50\">50km</option>\n                        <option value=\"100\">100km</option>\n                        <option value=\"200\">200km</option>\n                    </Select>\n                </section>\n                \n                {isModalShown && <TagsFilter filterBy={this.props.filterBy} onToggleTag={this.onToggleTag} onFilterChange={this.onFilterChange} onToggleFilterModal={this.onToggleFilterModal} />}\n\n                <br />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        filterBy: state.petReducer.filterBy\n    }\n}\n\nconst mapDispatchToProps = {\n    setFilter,\n    loadPets\n}\n\n\nexport const PetFilter = connect(mapStateToProps, mapDispatchToProps)(_PetFilter)\n","import { NavLink, Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\r\nimport { faMars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faVenus } from '@fortawesome/free-solid-svg-icons'\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loadPets, savePet } from '../store/actions/petActions';\r\n\r\n\r\nclass _PetPreview extends Component {\r\n\r\n    state = {\r\n        pet: {},\r\n        isLiked: false,\r\n        loveIconClass: 'love-icon'\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.setState({ pet: { ...this.props.pet } })\r\n    }\r\n    async componentDidUpdate(prevProps) {\r\n        if (prevProps != this.props) {\r\n            await this.setState({ pet: { ...this.props.pet } })\r\n        }\r\n    }\r\n\r\n    onUpdateReaction = async (ev, reaction) => {\r\n        ev.preventDefault()\r\n        const pet = this.state.pet;\r\n        const updatedReacts = pet.reacts.map(react => {\r\n            if (react.type === reaction) {\r\n                this.setState({isLiked: !this.state.isLiked})\r\n            \r\n                react.count += this.state.isLiked ? -1 : +1;\r\n                this.setState({ ...this.state, isLiked: !this.state.isLiked })\r\n            }\r\n            return react\r\n        })\r\n        await this.setState({ ...pet, reacts: [...updatedReacts] })\r\n        const petToSave = await JSON.parse(JSON.stringify(this.state.pet));\r\n        await this.props.savePet(petToSave);\r\n    }\r\n\r\n    render() {\r\n        const { pet } = (Object.keys(this.state.pet).length === 0) ? this.props : this.state;\r\n        const loveIconClass = (this.state.isLiked) ? 'love-icon-active' : 'love-icon'\r\n        if (!pet || !pet.reacts) return <h1>loading...</h1>\r\n        return (\r\n            <NavLink to={`/details/${pet._id}`}>\r\n\r\n                <div className=\"pet-preview\">\r\n                    {pet.isAdopted && <div className=\"ribbon ribbon-top-right\"><span>Adopted</span></div>}\r\n                    <img src={(pet.imgUrls) ? pet.imgUrls[0] : ''} alt=\"pet\" />\r\n                    <div className=\"card-description\">\r\n                        <div className=\"card-description-header\">\r\n                            <h2 className=\"pet-name\">{pet.name}</h2>\r\n                            {(pet.gender === 'Male') && <FontAwesomeIcon className=\"pet-gender-male-icon\" icon={faMars} />}\r\n                            {(pet.gender !== 'Male') && <FontAwesomeIcon className=\"pet-gender-female-icon\" icon={faVenus} />}\r\n                        </div>\r\n                        <h4>{pet.summary}</h4>\r\n                    </div>\r\n                    <div className=\"shop-container\">\r\n                        {pet.shop && <Link to={`/shop/${pet.shop._id}`}>{pet.shop.fullName}</Link>}\r\n                        {/* {pet.shop && <h4>{pet.shop.fullName}</h4>} */}\r\n                        <div onClick={(ev) => { this.onUpdateReaction(ev, 'love') }} className=\"pet-rate-box\">\r\n                            <div className=\"content\">\r\n                            <span>{pet.reacts && pet.reacts[0].type === 'love' ? <span className={loveIconClass}></span> : ''} </span>\r\n\r\n                            </div>\r\n                            {pet.reacts && pet.reacts[0].type === 'love' ? <span className=\"love-count\">{pet.reacts[0].count}</span> : ''}\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </ NavLink >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    savePet,\r\n    loadPets\r\n\r\n}\r\n\r\n\r\nexport const PetPreview = connect(mapStateToProps, mapDispatchToProps)(_PetPreview)\r\n\r\n","import { PetPreview } from './PetPreview'\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux';\n\nclass _PetList extends Component {\n\n    state = {\n        filterBy: ''\n    }\n\n    componentDidMount() {\n        this.setState({\n            filterBy: JSON.parse(JSON.stringify(this.props.filterBy))\n        })\n    }\n\n\n    render() {\n        const { pets, onRemove, onEdit } = this.props\n        const popPets = pets.filter((pet) => pet.reacts[0].count > 90)\n        const notPopPets = pets.filter((pet) => pet.reacts[0].count <= 90)\n        const { filterBy } = this.props\n        const isEmptyFilter = !filterBy.type && !filterBy.txt && !filterBy.distance.range\n\n        return (\n            <div className=\"pet-list-container\">\n\n                {isEmptyFilter && <h4 className=\"popular-pets-header\">Most Popular</h4>}\n                {isEmptyFilter && <ul className=\"pet-list\"> {\n                    popPets.map((pet, index) => <PetPreview pet={pet} key={index} onRemove={onRemove} onEdit={onEdit} />)\n\n                }\n\n                </ul>}\n                <hr />\n                {isEmptyFilter && <h4 className=\"popular-pets-header\">Very Popular</h4>}\n                {isEmptyFilter && <ul className=\"pet-list\"> {\n                    notPopPets.map((pet, index) => <PetPreview pet={pet} key={index} onRemove={onRemove} onEdit={onEdit} />)\n                }\n                </ul>}\n                { !isEmptyFilter && <ul className=\"pet-list\"> {pets.map((pet, index) => <PetPreview pet={pet} key={index} onRemove={onRemove} onEdit={onEdit} />)}</ul>}\n            </div>\n\n\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        filterBy: state.petReducer.filterBy\n    }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport const PetList = connect(mapStateToProps, mapDispatchToProps)(_PetList);\n\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { PetFilter } from '../cmps/PetFilter'\nimport { PetList } from '../cmps/PetList'\nimport { loadPets, removePet, setFilter } from '../store/actions/petActions'\nimport { animateScroll as scroll } from \"react-scroll\";\n\nclass _PetApp extends Component {\n\n    state = {\n        pets: [],\n        filterBy: { type: '' },\n        sortBy: null,\n        isReady: false\n    }\n\n    async componentDidMount() {\n        await this.loadPets();\n        scroll.scrollToTop();\n    }\n\n    async componentDidUpdate(prevProps) {\n        if (prevProps !== this.props) {\n            this.setState({ isReady: true })\n        }\n        if (prevProps.filterBy !== this.props.filterBy) {\n            await this.loadPets();\n        }\n\n    }\n    async componentWillUnmount() {\n        await this.resetFitler();\n    }\n\n    resetFitler = async () => {\n        await this.props.setFilter({\n            type: '',\n            gender: '',\n            breed: '',\n            size: '',\n            txt: ''\n        }, () => this.loadPets())\n    }\n\n    loadPets = async _ => {\n        //loading from props with filter and setting the local state\n        await this.props.loadPets(this.props.filterBy);\n        const pets = this.props.pets;\n        await this.setState({ ...this.state, pets })\n    }\n\n    onRemove = (id) => {\n        this.props.removePet(id)\n    }\n\n    render() {\n        const { user } = this.props;\n        if (!this.state.pets) return <h1>Loading...</h1>\n        return (\n            <div className=\"pets-container\">\n                <PetFilter />\n                <div id=\"center\"></div>\n                <PetList pets={this.state.pets} onRemove={this.onRemove} user={user} />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        pets: state.petReducer.pets,\n        filterBy: state.petReducer.filterBy\n    }\n}\nconst mapDispatchToProps = {\n    loadPets,\n    removePet,\n    setFilter\n}\n\nexport const PetApp = connect(mapStateToProps, mapDispatchToProps)(_PetApp)\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { savePet, loadPets } from '../store/actions/petActions.js'\nimport { Input } from '@material-ui/core';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\n\n\nexport class _PetEdit extends Component {\n\n    state = {\n        pet: {}\n    }\n\n    async componentDidMount() {\n        await this.props.loadPets();\n        const petId = this.props.match.params.id\n        if (petId) {\n            const petToEdit = this.props.pets.find(pet => pet._id === petId)\n            this.setState({ pet: { ...petToEdit } })\n        }\n    }\n\n    handleInput = ({ target }) => {\n        const field = target.name;\n        if (target.type === 'number') var value = +target.value;\n        else if (target.type === 'checkbox') value = (target.checked);\n        else value = target.value;\n\n        this.setState(prevState => {\n            return {\n                ...prevState,\n                pet: {\n                    ...prevState.pet,\n                    [field]: value\n                }\n            }\n        })\n    }\n\n    onSubmitForm = (ev) => {\n        ev.preventDefault();\n        this.props.savePet(this.state.pet);\n        this.props.history.push('/')\n    }\n\n    render() {\n        const pet = { ...this.state.pet }\n        if (Object.keys(pet).length === 0) return (<h1>LOADING...</h1>)\n        return (\n            <form className={\"form-container fields-container flex column align-center below-nav\"}\n                onSubmit={(event) => { this.onSubmitForm(event) }}>\n                {(!pet._id) ? <h1>Add Your Pet</h1> : <h1>Edit Pet Details</h1>}\n                <Input type=\"text\" name=\"name\" placeholder=\"Pet Name:\"\n                    value={pet.name} onChange={this.handleInput}></Input>\n                <Input type=\"text\" name=\"type\" placeholder=\"Pet Type:\"\n                    value={pet.type} onChange={this.handleInput}></Input>\n                <TextField name=\"adoptedAt\" label=\"Pet Adoption Date\" type=\"date\"\n                    defaultValue={new Date(pet.adoptedAt).toISOString().substr(0, 10)}\n                    onChange={this.handleInput}\n                    InputLabelProps={{ shrink: true }}\n                />\n                <TextField name=\"bDate\" label=\"Pet Birth Date\" type=\"date\"\n                    defaultValue={new Date(pet.bDate).toISOString().substr(0, 10)}\n                    onChange={this.handleInput}\n                    InputLabelProps={{ shrink: true }}\n                />\n                <FormControl>\n                    <InputLabel htmlFor=\"type\">Pet Gender:</InputLabel>\n                    <Select\n                        native\n                        value={pet.gender}\n                        onChange={this.handleInput}\n                        inputProps={{\n                            name: \"gender\",\n                        }}>\n                        <option value={\"male\"}>Male</option>\n                        <option value={\"female\"}>Female</option>\n                    </Select>\n                </FormControl>\n                <Input type=\"text\" name=\"breed\" placeholder=\"Pet Breed:\"\n                    value={pet.breed} onChange={this.handleInput}></Input>\n                <FormControl>\n                    <InputLabel htmlFor=\"type\">Pet Size:</InputLabel>\n                    <Select\n                        native\n                        value={pet.size}\n                        onChange={this.handleInput}\n                        inputProps={{\n                            name: \"size\",\n                        }}>\n                        <option value=\"small\">Small</option>\n                        <option value=\"medium\">medium</option>\n                        <option value=\"large\">Large</option>\n                        <option value=\"giant\">Giant</option>\n                    </Select>\n                </FormControl>\n                <FormControl className=\"flex align-center\">\n                    <lable htmlFor=\"type\"> Is In Risk:\n                    <input type=\"checkbox\" checked={(pet.isInRisk) ? \"checked\" : \"\"} />\n                    </lable>\n                    <br /><br />\n                </FormControl>\n                <TextField\n                    id=\"standard-textarea\"\n                    label=\"Pet description:\"\n                    placeholder=\"Your pet short description\"\n                    multiline\n                    name=\"description\"\n                    value={pet.description}\n                    onChange={this.handleInput}\n                />\n                <FormControl>\n                    <InputLabel htmlFor=\"kids\">Select pet behavior with kids:</InputLabel>\n                    <Select\n                        native\n                        onChange={this.handleInput}\n                        inputProps={{\n                            name: \"kids\",\n                        }}>\n                        <option aria-label=\"None\" value=\"\" />\n                        <option value=\"friendly\">Friendly</option>\n                        <option value=\"selective\">Selective</option>\n                        <option value=\"agressive\">Agressive</option>\n                    </Select>\n                </FormControl>\n                <FormControl>\n                    <InputLabel htmlFor=\"dogs\">Select pet behavior with dogs:</InputLabel>\n                    <Select\n                        native\n                        onChange={this.handleInput}\n                        inputProps={{\n                            name: \"dogs\",\n                        }}>\n                        <option aria-label=\"None\" value=\"\" />\n                        <option value=\"friendly\">Friendly</option>\n                        <option value=\"selective\">Selective</option>\n                        <option value=\"agressive\">Agressive</option>\n                    </Select>\n                </FormControl>\n                <FormControl>\n                    <InputLabel htmlFor=\"cats\">Select pet behavior with cats:</InputLabel>\n                    <Select\n                        native\n                        onChange={this.handleInput}\n                        inputProps={{\n                            name: \"cats\",\n                        }}>\n                        <option aria-label=\"None\" value=\"\" />\n                        <option value=\"friendly\">Friendly</option>\n                        <option value=\"selective\">Selective</option>\n                        <option value=\"agressive\">Agressive</option>\n                    </Select>\n                </FormControl>\n                <FormControl>\n                    <InputLabel htmlFor=\"energy\">Select pet energy level:</InputLabel>\n                    <Select\n                        native\n                        onChange={this.handleInput}\n                        inputProps={{\n                            name: \"energy\",\n                        }}>\n                        <option aria-label=\"None\" value=\"\" />\n                        <option value=\"low\">Low</option>\n                        <option value=\"moderate\">Moderate</option>\n                        <option value=\"high\">High</option>\n                    </Select>\n                </FormControl>\n                <FormControl>\n                    <InputLabel htmlFor=\"health\">Select pet health condition:</InputLabel>\n                    <Select\n                        native\n                        onChange={this.handleInput}\n                        inputProps={{\n                            name: \"health\",\n                        }}>\n                        <option aria-label=\"None\" value=\"\" />\n                        <option value=\"helathy\">Healthy</option>\n                        <option value=\"notHealthy\">Not Healthy</option>\n                    </Select>\n                </FormControl>\n                <button>SAVE</button>\n            </form >\n        )\n    }\n\n}\nconst mapStateToProps = state => {\n    return {\n        pets: state.petReducer.pets\n    }\n}\n\nconst mapDispatchToProps = {\n    savePet,\n    loadPets\n}\n\nexport const PetEdit = connect(mapStateToProps, mapDispatchToProps)(_PetEdit)\n","import httpService from './httpService.js'\nconst BASE_URL = '/chat'\n\n\nexport const chatService = {\n    query,\n    getById,\n    getByUserId,\n    save,\n    remove\n}\n\nasync function query(filterBy={}, filterName) {\n    if (filterBy) {\n        const queryStr = (filterBy) ? `?${filterName}=${filterBy}` : '';\n        const res = await httpService.get(`${BASE_URL}${queryStr}`, {\n            params: filterBy\n        });\n        return res;\n    }\n}\n\nasync function getById(id) {    \n    const res = await httpService.get(`${BASE_URL}/${id}`);\n    return res;\n}\nasync function getByUserId(userId) {    \n    const res = await httpService.get(`${BASE_URL}/member/${userId}`);\n    return res;\n}\n\nasync function save(chat) {\n    if (chat._id) {\n        chat.updatedAt = new Date(Date.now()).toLocaleString();\n        const res = await httpService.put(`${BASE_URL}/${chat._id}`, chat)\n        return res;\n\n    } else {\n        chat.createdAt = new Date(Date.now()).toLocaleString();\n        const res = await httpService.post(`${BASE_URL}`, chat)\n        return res;\n    }\n}\n\nasync function remove(chatId) {\n    await httpService.delete(`${BASE_URL}/${chatId}`)\n}\n\n\nfunction _makeId(length = 6) {\n    var txt = '';\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return txt;\n}\n","import { chatService } from \"../../services/chatService.js\"\n\nexport function getChatsByUserId(userId) {\n    console.log('chatId',userId);\n    return async dispatch => {\n        try {\n            const chat = await chatService.getByUserId(userId);\n            console.log(chat);\n            dispatch({ type: 'LOAD_CHATS', chat });\n        } catch (err) {\n            console.log('UserActions: err in loadUsers', err);\n        }  \n    }\n}\nexport function getChatById(chatId) {\n    console.log('chatId',chatId);\n    return async dispatch => {\n        try {\n            const chat = await chatService.getById(chatId);\n            dispatch({ type: 'GET_CHAT', chat });\n        } catch (err) {\n            console.log('UserActions: err in loadUsers', err);\n        }  \n    }\n}\n\nexport function saveChat(chat) {\n    console.log('In actions',chat);\n    return async dispatch => {\n        if (chat._id) dispatch({ type: 'EDIT_CHAT', chat });\n        else dispatch({ type: 'ADD_CHAT', chat });\n    }\n}\n\nexport function toggleChat(chatInfo=null){\n    return dispatch => {\n        dispatch({ type: 'TOGGLE_CHAT', chatInfo })\n    }\n}\n","import httpService from './httpService.js'\nconst BASE_URL = '/order'\n\n\nexport const orderService = {\n    query,\n    getById,\n    save,\n    remove\n}\n\nasync function query(filterBy={}, filterName) {\n    if (filterBy) {\n        const queryStr = (filterBy) ? `?${filterName}=${filterBy}` : '';\n        const res = await httpService.get(`${BASE_URL}${queryStr}`, {\n            params: filterBy\n        });\n        return res;\n    }\n}\n\nasync function getById(id) {\n    const res = await httpService.get(`${BASE_URL}/${id}`);\n    return res;\n}\n\nasync function save(order) {\n    console.log('order', order);\n    if (order._id) {\n\n        order.updatedAt = new Date(Date.now()).toLocaleString();\n        const res = await httpService.put(`${BASE_URL}/${order._id}`, order)\n        return res;\n\n    } else {\n        order.createdAt = new Date(Date.now()).toLocaleString();\n        const res = await httpService.post(`${BASE_URL}`, order)\n        return res;\n    }\n}\n\nasync function remove(orderId) {\n    await httpService.delete(`${BASE_URL}/${orderId}`)\n}\n\n\nfunction _makeId(length = 6) {\n    var txt = '';\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return txt;\n}\n","import { orderService } from \"../../services/orderService.js\"\n\nexport function loadOrders(filterBy, filterName) {\n    return async dispatch => {\n        const orders = await orderService.query(filterBy, filterName);\n        dispatch({ type: 'LOAD_ORDERS', orders });\n    }\n}\n\nexport function saveOrder(order) {\n    return async dispatch => {\n        const orderToSave = await orderService.save(order);\n        if (order._id) dispatch({ type: 'EDIT_ORDER', orderToSave });\n        else dispatch({ type: 'ADD_ORDER', orderToSave });\n    }\n}\n\nexport function removeOrder(orderId) {\n    return async dispatch => {\n       await orderService.remove(orderId);\n       dispatch({ type: 'REMOVE_ORDER', orderId })\n    }\n}\n\nexport function setFilter(filterBy){\n    return dispatch => {\n        dispatch({ type: 'SET_FILTER', filterBy })\n    }\n}\n","import React from 'react'\n\nexport function AdoptionMsgModal() {\n    return (\n        <div className=\"adoption-modal-msg\">\n        <p className=\"msg-content\">Your Adoption Request Has Been Sent.</p>\n        </div>\n    )\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\n\nimport { toggleChat } from '../store/actions/chatActions.js';\nimport { shopService } from '../services/shopService.js';\nimport { loadPets, savePet, removePet } from '../store/actions/petActions.js';\nimport { saveOrder } from '../store/actions/orderActions.js';\n\n\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faExpandArrowsAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faVenusMars } from '@fortawesome/free-solid-svg-icons'\nimport { faAlignLeft } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\nimport { TextField } from '@material-ui/core';\nimport { animateScroll as scroll } from \"react-scroll\";\nimport { WhatsappShareButton, WhatsappIcon, FacebookShareButton, FacebookIcon, TwitterShareButton, TwitterIcon } from 'react-share'\nimport { AdoptionMsgModal } from '../cmps/AdoptionMsgModal.jsx';\n\n\nclass _PetDetails extends Component {\n\n    state = {\n        pet: {},\n        isOwnerOfPet: false,\n        adoptButton: 'Adopt',\n        currComment: '',\n        AdoptionModalMsg: false\n    }\n\n    async componentDidMount() {\n        this.getComponentData();\n        scroll.scrollToTop();\n    }\n\n    async getComponentData() {\n        await this.getCurrPet();\n        await this.getUserId();\n        await this.isOwnerOfPet();\n    }\n\n    getCurrPet = async () => {\n        await this.props.loadPets();\n        const petId = this.props.match.params.id\n        const petToShow = this.props.pets.find(pet => pet._id === petId)\n        this.setState({ pet: { ...petToShow } });\n    }\n\n    isOwnerOfPet = async () => {\n        const { loggedInUser } = this.props\n        const pet = this.state.pet\n        if (loggedInUser && pet.shop) {\n            const shopId = pet.shop._id\n            const shop = await shopService.getById(shopId)\n            this.setState({ isOwnerOfPet: loggedInUser._id === shop.owner._id })\n        }\n    }\n\n    onAdopt = async () => {\n        const { loggedInUser } = this.props\n        if (loggedInUser.isGuest) return\n        \n        const pet = this.state.pet\n        const shopId = pet.shop._id\n        const shop = await shopService.getById(shopId)\n        const order = {\n            msg: \"Hi, I saw your lovely pet and really wish to adopt it!\",\n            buyer: {\n                _id: loggedInUser._id,\n                fullName: loggedInUser.fullName,\n                imgUrl: loggedInUser.imgUrl\n            },\n            shop: {\n                _id: shop._id,\n                name: shop.name,\n                type: shop.type,\n                imgUrl: shop.imgUrl\n            },\n            pet: {\n                _id: pet._id,\n                name: pet.name,\n            },\n            status: \"Pending\",\n        }\n        this.props.saveOrder(order)\n        this.setState({ AdoptionModalMsg: !this.state.AdoptionModalMsg })\n        setTimeout(() => {\n            this.setState({ AdoptionModalMsg: !this.state.AdoptionModalMsg })\n          }, 1000);\n        this.setState({ adoptButton: 'Request Sent' })\n    }\n\n    onRemovePet = (petId) => {\n        console.log('petId', petId);\n        // this.props.removePet(petId)\n    }\n\n     onToggleChat = async() => {\n \n        const shop = await shopService.getById(this.state.pet.shop._id);\n        await this.props.toggleChat({'userId':shop.owner._id})\n    }\n\n    onUpdateReaction = (reaction) => {\n        const pet = this.state.pet;\n        pet.reacts.map(react => {\n            if (react.type === reaction) react.count++\n            return react\n        })\n        this.props.savePet(pet)\n        this.getCurrPet()\n    }\n\n    handleCommentInput = ({ target }) => {\n        const value = target.value;\n        this.setState({ currComment: value })\n    }\n\n    onComment = async () => {\n        const pet = this.state.pet;\n        const user = this.props.loggedInUser\n        const comment = {\n            id: `c${100 + pet.comments.length + 1}`,\n            txt: this.state.currComment,\n            by: {\n                id: user._id,\n                fullName: user.fullName,\n                imgUrl: user.imgUrl\n            },\n        }\n\n        pet.comments.unshift(comment);\n        await this.props.savePet(pet);\n        this.getComponentData();\n        this.setState({ cuurComment: '' })\n    }\n\n    getTimeToString = () => {\n        var time = new Date();\n        var dd = String(time.getDate()).padStart(2, '0');\n        var mm = String(time.getMonth() + 1).padStart(2, '0');\n        var yyyy = time.getFullYear();\n\n        time = mm + '/' + dd + '/' + yyyy;\n        return time\n    }\n\n    getUserId = async _ => {\n        console.log(this.state.pet);\n        const shop = await shopService.getById(this.state.pet.shop._id);\n        const ownerId = await shop.owner._id;\n        this.setState({ ownerId })\n    }\n\n    render() {\n        const pet = this.state.pet;\n\n        if (!pet) return <h1>Loading...</h1>\n        return (\n            <section className=\"pet-details-main-container\">\n                <div className=\"pet-details-box\">\n                    <div className=\"pet-details-header\">\n                        <h2 className=\"pet-details-heading\">{pet.name}</h2>\n                        <div className=\"share-box\">\n                            {/* <h4 className=\"share-heading\">Share {pet.name} With Your Friends</h4> */}\n                            <FacebookShareButton\n                                url={\"http://www.camperstribe.com\"}\n                                quote={\"See this cute pet I saw on Friendly\"}\n                                hashtag=\"#Friendly\">\n                                <FacebookIcon size={30} />\n                            </FacebookShareButton>\n                            <WhatsappShareButton\n                                url={\"http://www.camperstribe.com\"}\n                                quote={\"See this cute pet I saw on Friendly\"}>\n                                <WhatsappIcon size={30} />\n                            </WhatsappShareButton>\n                            <TwitterShareButton\n                                url={\"http://www.camperstribe.com\"}\n                                quote={\"See this cute pet I saw on Friendly\"}>\n                                <TwitterIcon size={30} />\n                            </TwitterShareButton>\n\n                        </div>\n                    </div>\n                    {pet.isAdopted && <div className=\"ribbon-details ribbon-top\"><span>Adopted</span></div>}\n                    <div className=\"pet-details-img-box\">\n                        {\n                            (pet.imgUrls) ?\n                                pet.imgUrls.map((imgUrl, idx) => {\n                                    return <img key={idx} className={`pet-details-img-${idx}`} src={imgUrl} />\n                                })\n                                : ''\n                        }\n                    </div>\n                    <div>\n                        <ul className=\"reactions-list\">\n                            {\n                                (pet.reacts) ?\n                                    pet.reacts.map((react,idx) => {\n                                        if (react.type === 'love') {\n                                            return <li key={idx} className=\"react-count\"><FontAwesomeIcon onClick={() => { this.onUpdateReaction('love') }}\n                                                className=\"heart-icon\" icon={faHeart} /> {`${react.count}`}</li>\n                                        }\n                                    \n                                    })\n                                    : ''\n                            }\n                        </ul>\n                    </div>\n                    <div className=\"shop-and-pet-info\">\n\n\n                        <div className=\"pet-info\">\n                            <div className=\"pet-info-up\">\n                                <div className=\"age info-box\">\n                                    <FontAwesomeIcon className=\"age-icon info-icon\" icon={faCalendarAlt} />\n\n                                    <p><span>Age: </span>\n                                        {`${parseFloat((Date.now() - new Date(pet.bDate)) / (1000 * 60 * 60 * 24 * 30 * 12)).toFixed(1)}`}\n                                    </p>\n                                </div>\n                                <div className=\"size info-box\">\n                                    <FontAwesomeIcon className=\"size-icon info-icon\" icon={faExpandArrowsAlt} />\n                                    <p><span>Size:</span> {pet.size}</p>\n                                </div>\n                            </div>\n                            <div className=\"pet-info-down \">\n                                <FontAwesomeIcon className=\"gender-icon info-icon\" icon={faVenusMars} />\n                                <div className=\"gender info-box\">\n\n                                    <p><span>Gender:</span> {pet.gender}</p>\n                                </div>\n                                <div className=\"breed info-box\">\n                                    <FontAwesomeIcon className=\"breed-icon info-icon\" icon={faAlignLeft} />\n                                    <p><span>Breed:</span> {pet.breed}</p>\n                                </div>\n                            </div>\n                            {/* <h4> {pet.summary}</h4> */}\n                        </div>\n\n\n\n                        <div className=\"shop-details\">\n                            <div className=\"shop-details-up\">\n                                {pet.shop && <img className=\"shop-img\" src={`${pet.shop.imgUrl}`} alt=\"\" />}\n                                {pet.shop && <Link to={`/shop/${pet.shop._id}`}><p>{pet.shop.fullName}</p></Link>}\n                            </div>\n                            <div className=\"shop-details-bottom\">\n                                <div className=\"shop-rate-box\">\n                                    <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\n                                    {pet.shop && <p className=\"shop-rate-rating\">{pet.shop.rate.rating}  </p>}\n                                    {pet.shop && <p className=\"shop-rate-count\">({pet.shop.rate.count})  </p>}\n                                </div>\n                                {pet.shop && !this.state.isOwnerOfPet && <button onClick={this.onToggleChat}>Message {pet.shop.fullName}</button>}\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"tags-and-adopt-btn-box\">\n\n                        <div className=\"tags-list-box\">\n                            <ul className=\"tags-list\">\n                                {\n                                    (pet.tags) ?\n                                        pet.tags.map(tag => {\n                                            return <li> {tag} </li>\n                                        })\n                                        : ''\n                                }\n                            </ul>\n                        </div>\n\n                        <button  onClick={this.onAdopt} className={`adoption-btn ${pet.isAdopted ? 'adopted' : 'adopt'}`}>{pet.isAdopted ? 'Already Adopted' : 'Adopt'} </button>\n                        {this.state.AdoptionModalMsg && <AdoptionMsgModal />}\n\n                    </div>\n                    <hr />\n                    <div className=\"description-box\">\n                        <p>{pet.description}</p>\n                    </div>\n                    <hr />\n                    <div className=\"comments-box\">\n                        <div className=\"comment-input-box\">\n                            <TextField autoComplete=\"off\" name=\"txt\" fullWidth={true} value={this.state.currComment} placeholder=\"Add Comment Here\" onChange={this.handleCommentInput} />\n\n                            <button className=\"add-comment-btn\" onClick={this.onComment}>Add</button>\n                        </div>\n                        <ul className=\"comment-list\">\n                            {\n                                (pet.comments) ?\n                                    pet.comments.map(comment => {\n                                        return <li className=\"single-comment-box\">\n                                            <div className=\"flex comment-box\">\n                                                {(comment.by.imgUrl) ? <img src={comment.by.imgUrl} alt=\"\" /> : \"\"}\n\n                                                {(comment.by.id === 'guest') ? <img src={\"https://images.macrumors.com/t/x_zUFqghBUNBxVUZN_dYoKF3D9g=/1600x0/article-new/2019/04/guest-user-250x250.jpg\"} alt=\"\" /> : \"\"}\n\n                                                <p><span>{comment.by.fullName}: </span> </p>\n                                                <p><span>{comment.createdAt}</span> </p>\n                                                <p>{comment.txt} </p>\n                                            </div>\n                                        </li>\n                                    })\n                                    : ''\n                            }\n                        </ul>\n                    </div>\n                </div>\n                {/* <div className=\"actions-box\">\n                    {\n                        this.state.isOwnerOfPet ?\n                            <div className=\"actions-box-edit\">\n                                <Link to={`/edit/${pet._id}`}><button onClick={this.onGoToEdit} className=\"edit-btn\">Edit Pet</button></Link>\n                                <button onClick={() => { this.onRemovePet(pet._id) }} className=\"remove-btn\">Delete Pet</button>\n                            </div>\n                            :\n                            <div className=\"actions-box-adopt\">\n                                <h3>Reasons To Adopt</h3>\n                                <p>You save a life. </p>\n                                <p>You adopt a pet, and find a friend.</p>\n                                <p>You help stop cruelty in mass breeding facilities.</p>\n                                <button onClick={this.onAdopt} className=\"adopt-btn\">{this.state.adoptButton}</button>\n                            </div>\n\n                    }\n\n\n                </div> */}\n            </section>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        pets: state.petReducer.pets,\n        loggedInUser: state.userReducer.loggedInUser,\n\n    }\n}\n\nconst mapDispatchToProps = {\n    loadPets,\n    savePet,\n    saveOrder,\n    removePet,\n    toggleChat\n\n}\n\n\nexport const PetDetails = connect(mapStateToProps, mapDispatchToProps)(_PetDetails)","import React from 'react'\n\nexport function UserData({ user, display }) {\n    return (\n        <div className={`user-data ${display}`}>\n                <div className=\"header flex space-between\">\n                    <img src={user.imgUrl} alt=\"\" />\n                </div>\n                <div className=\"user-profile-details flex column\">\n                    <h2>{user.fullName}</h2>\n                    {user.phone && <p><span>Phone: </span>{user.phone}</p>}\n                    {user.email && <p><span>Email: </span>{user.email}</p>}\n                    {user.birthDate && <p><span>Age: </span>\n                        {parseInt((Date.now() - new Date(user.birthDate)) / (1000 * 60 * 60 * 24 * 30 * 12))}</p>}\n                    {user.familyStatus && <p><span>Family Status: </span>{user.familyStatus}</p>}\n                    {user.numberOfKds && <p><span>Number of Kids: </span>{user.numberOfKds}</p>}\n                    {user.residence && <p><span>Residence Type: </span>{user.residence}</p>}\n                    {user.petCondition && <p><span>Pet Designated Living conditions: </span>{user.petCondition}</p>}\n                    {user.currrenPets && <p><span>Current Pets at home: </span>{user.currrenPets}</p>}\n                    {user.prevExperince && <p><span>Previous experience with animals: </span>{user.prevExperince}</p>}\n                    {/* <button className=\"close-user-modal-btn\" onClick={closeModal}>Close</button> */}\n                </div>\n        </div>\n    )\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faInfoCircle, faComment, faTimesCircle } from '@fortawesome/free-solid-svg-icons'\nimport userService from '../services/userService';\nimport { UserData } from './UserData.jsx';\nimport { toggleChat } from '../store/actions/chatActions.js';\n\n\n class _OrderPreview extends Component {\n\n\n    state = {\n        showUserModal: false,\n        user: null,\n        isUndreadMsg:false\n    }\n\n    componentDidMount() {\n        this.setUnreadCount();\n    }\n    componentDidUpdate(preProps){\n        if (preProps!==this.props){\n        this.setUnreadCount();\n\n        }\n    }\n\n    setUnreadCount=()=>{\n        console.log('Chats:',this.props.chats);\n        const chat= this.props.chats.find(chat => {\n            return (chat.members.includes(this.props.loggedInUser._id) && chat.members.includes(this.props.order.buyer._id))\n        }) \n        console.log(chat);\n        if (!chat || chat.length>0) return\n        const isUndreadMsg = chat.msgs.some(msg=>{\n            console.log(!msg.isRead );\n            console.log((msg.authorId !== this.props.loggedInUser._id));\n            return !msg.isRead && (msg.authorId !== this.props.loggedInUser._id)\n        });\n        this.setState({isUndreadMsg})\n        console.log(this.state);\n    }\n    onToggleModal = async () => {\n        this.setState({ showUserModal: !this.state.showUserModal })\n        const user = await userService.getById(this.props.order.buyer._id)\n        await this.setState({ user })\n    }\n    onToggleChat = () => {\n        console.log(this.props);\n        this.props.toggleChat({'userId':this.props.order.buyer._id})\n    }\n\n    orderClass = () => {\n        let orderClass;\n        if (this.props.order.status === 'accepted') orderClass = 'accepted';\n        else if (this.props.order.status === 'denied') orderClass = 'denied';\n        else orderClass = 'pending';\n        return orderClass;\n    }\n\n    render() {\n        const { order, onSave, onRemove, isShop, loggedInUser } = this.props\n        const isModalClass = (this.props.inModal) ? 'modal-order-preview' : '';\n        const display = (this.state.showUserModal) ? \"grid\" : \"hidden\";\n        const btnIcon = (this.state.showUserModal) ? faTimesCircle : faInfoCircle;\n        const user = this.state.user;\n        if (!order) return <h3 style={{ display: 'none' }}>loading...</h3>\n        return (\n            <div className={`order-preview ${isModalClass} ${this.orderClass}`}>\n                {\n                    isShop &&\n                    <div className=\"order-preview-details\">\n                        <p>{order.buyer.fullName} <span>Wants to Adopt</span> {order.pet.name}</p>\n                        <div className=\"contact-user-actions-btns\">\n                                <button className=\"order-data-btn\" onClick={this.onToggleModal}>\n                                    <FontAwesomeIcon icon={btnIcon} />\n                                </button>\n                            <div>\n                                <button className=\"order-data-btn\" onClick={this.onToggleChat}>\n                                    <FontAwesomeIcon icon={faComment} />\n                                </button>\n                                {/* {this.state.isUndreadMsg && <div className=\"unread-badge\"></div>} */}\n\n                            </div>\n\n                        </div>\n\n                    </div>\n                }\n\n                {!isShop && loggedInUser._id === order.buyer._id &&\n                    <div>\n                        <Link to={`/shop/${order.shop._id}`}>\n                            {<p> <span>Request to adopt </span> {order.pet.name}\n                                <span> from:</span> {order.shop.name} {order.shop.type} </p>}\n                        </Link>\n                    </div>\n                }\n\n                <div className=\"order-actions-btns-box\">\n                    {isShop && <button className=\"accept-order-btn order-btn\" onClick={() => { onSave(order, 'accepted') }}>Accept</button>}\n                    {isShop && <button className=\"pending-order-btn order-btn\" onClick={() => { onSave(order, 'pending') }}>Pending</button>}\n                    {isShop && <button className=\"reject-order-btn order-btn\" onClick={() => { onSave(order, 'denied') }}>Reject</button>}\n                    {(isShop || (!isShop && loggedInUser._id === order.buyer._id)) &&\n                        <button className=\"remove-order-btn order-btn\" onClick={() => { onRemove(order._id) }}>Remove</button>}\n                </div>\n\n                {isShop && user && <UserData user={user} display={display} />}\n\n            </div >\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        chats: state.chatReducer.chats,\n        loggedInUser: state.userReducer.loggedInUser\n\n    }\n}\n\nconst mapDispatchToProps = {\n\n    toggleChat\n\n}\nexport const OrderPreview = connect(mapStateToProps, mapDispatchToProps)(_OrderPreview)\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { OrderPreview } from './OrderPreview'\nimport { withRouter } from 'react-router-dom'\nimport {\n    loadOrders,\n    saveOrder,\n    removeOrder,\n    setFilter\n} from '../store/actions/orderActions';\nimport { savePet } from '../store/actions/petActions';\n\n\n\nclass _OrderList extends Component {\n\n    state = {\n        msgDivClass: 'hidden'\n    }\n\n    componentDidMount() {\n        this.props.loadOrders(this.props.filterById, this.props.orderFilterName);\n    }\n\n    changePetAdoptionStatus = async (order) => {\n        const pet = this.props.pets.find(pet => pet._id === order.pet._id)\n        pet.isAdopted = true\n        this.props.savePet(pet)\n        this.props.history.push('/pet')\n    }\n\n    onSave = async (order, status) => {\n        const isAcceptedStat = this.props.orders.find(orderCheck => {\n            return (orderCheck.status === 'accepted' && orderCheck.pet._id === order.pet._id)\n        })\n\n        if (isAcceptedStat && status === 'accepted') {\n            this.setState({ msgDivClass: '' })\n            setTimeout(() => { this.setState({ msgDivClass: 'hidden' }) }, 1500);\n        } else {\n            order.status = status;\n            await this.props.saveOrder(order);\n            this.props.loadOrders(this.props.filterById, this.props.orderFilterName);\n            if (status === 'accepted') {\n                console.log('is it?');\n                this.changePetAdoptionStatus(order)\n            }\n        }\n    }\n\n    onRemove = (id) => {\n        this.props.removeOrder(id);\n    }\n\n    render() {\n        const orders = this.props.orders;\n        const inModal = (this.props.inModal)? true : false;\n        return (!orders) ? <h1>LOADING...</h1> :\n            (\n                <div className=\"order-list flex column\" >\n                    {/* <h3>Adoption Requests</h3> */}\n                    <div className={`doubleAccept ${this.state.msgDivClass}`}>Only one approval please.</div>\n                    {orders.map(order =>\n                        <OrderPreview isShop={this.props.isShop} order={order} loggedInUser={this.props.loggedInUser}\n                        inModal={inModal}  onRemove={this.onRemove} onSave={this.onSave} />)}\n                </div>\n            )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        pets: state.petReducer.pets,\n        orders: state.orderReducer.orders,\n        loggedInUser: state.userReducer.loggedInUser,\n    }\n}\n\nconst mapDispatchToProps = {\n    loadOrders,\n    saveOrder,\n    removeOrder,\n    setFilter,\n    savePet\n}\n\nexport const OrderList = withRouter(connect(mapStateToProps, mapDispatchToProps)(_OrderList))\n","import React from 'react'\nimport { OrderList } from './OrderList.jsx';\n\n\nexport function OrderListModal({ isOpen, isShop, orderFilterName, filterById, onToggleOrderModal }) {\n    return (\n        <div className={`orderlist-modal ${isOpen}`}>\n            <h2>My Adoption Requests</h2>\n            <OrderList isShop={isShop} orderFilterName={orderFilterName} filterById={filterById} inModal={true} />\n            <div className=\"flex column align-center\">\n                <button className={\"close-modal\"} onClick={onToggleOrderModal}>Close</button>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport { GoogleApiWrapper, Map, Marker, InfoWindow } from 'google-maps-react';\n\n\nclass _GoogleMap extends React.Component {\n\n    state = {\n        lat: 32.0853,\n        lng: 34.7818,\n        zoom: 16,\n        loc: 'Info Window'\n    }\n\n    componentDidMount() {\n        this.setState(\n            {\n                lat: this.props.lat,\n                lng: this.props.lng,\n                zoom: 14,\n                loc: this.props.name\n            }\n        )\n    }\n\n    onMarkerClick = (props, marker, event) => {\n    }\n\n    onMapClicked = (mapProps, map, ev) => {\n        this.setState({ lat: ev.latLng.lat(), lng: ev.latLng.lng() })\n    }\n\n    onMapPassLoc = () => {\n        this.state({ lat: this.props.lat, lng: this.props.lng })\n    }\n\n    render() {\n        return (\n            <Map className=\"map\" initialCenter={this.state} center={this.state} onClick={this.onMapClicked}\n                google={this.props.google} zoom={this.state.zoom} className=\"map\" >\n\n                <Marker position={this.state}\n                    name={'Current location'} />\n\n                <InfoWindow position={this.state} visible={true}  >\n                    <div>\n                        <h4>{this.state.loc}</h4>\n                    </div>\n                </InfoWindow>\n            </Map>\n        );\n    }\n}\n\nexport const GoogleMap = GoogleApiWrapper({\n    apiKey: ('AIzaSyA7wFxeGayDFtxLfft53sDr7sMu9cj7Vio')\n})(_GoogleMap)","\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { PetList } from '../cmps/PetList';\nimport { OrderList } from '../cmps/OrderList';\nimport { OrderListModal } from '../cmps/OrderListModal';\nimport { getShopById, saveShop } from '../store/actions/shopActions.js';\nimport { savePet, loadPets } from '../store/actions/petActions.js'\nimport { GoogleMap } from '../cmps/GoogleMap';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Select from '@material-ui/core/Select';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faAngleDoubleUp, faEnvelope, faFemale, faMale, faMobileAlt, faStar } from '@fortawesome/free-solid-svg-icons'\nimport { animateScroll as scroll } from \"react-scroll\";\nimport userService from '../services/userService.js';\nimport { shopService } from '../services/shopService.js';\n\n\nclass _ShopDetails extends Component {\n\n    state = {\n        shop: {},\n        shopPets: [],\n        shopOwner: '',\n        isOpenReviews: false,\n        isOpenOrders: false,\n        currReview: {\n            txt: '',\n            rate: ''\n        }\n    }\n\n    async componentDidMount() {\n        await this.loadShopData();\n        scroll.scrollToTop();\n    }\n\n    loadShopData = async () => {\n        const shopId = this.props.match.params.id;\n        await this.props.loadPets();\n        await this.props.getShopById(shopId);\n        this.setState({ shop: { ...this.props.currShop } });\n        const owner = await userService.getById(this.props.currShop.owner._id);\n        console.log('owner from DB', owner);\n\n        await this.setState({ shopOwner: { ...owner } });\n        const shopPets = this.props.pets.filter(pet => {\n            if (pet.shop) return pet.shop._id === this.state.shop._id\n\n        })\n        await this.setState({\n            shopPets: [...shopPets]\n        })\n    }\n\n    onRemove = (id) => {\n        this.props.removePet(id)\n    }\n\n    onEdit = () => {\n        console.log('edit');\n    }\n\n    handleInput = ({ target }) => {\n        const field = target.name;\n        const value = target.value;\n        this.setState(prevState => {\n            return {\n                ...prevState,\n                currReview: {\n                    ...prevState.currReview,\n                    [field]: value\n                }\n            }\n        })\n    }\n\n    onAddReview = async (ev) => {\n        ev.preventDefault();\n        const shop = { ...this.state.shop };\n        const review = { ...this.state.currReview };\n        review.id = `r${100 + shop.reviews.length + 1}`\n        const user = this.props.loggedInUser;\n        review.by = {\n            _id: user._id,\n            fullName: user.fullName,\n            imgUrl: user.imgUrl\n        }\n        shop.reviews.unshift(review);\n        await this.props.saveShop(shop);\n        this.loadShopData();\n    }\n\n    onToggleOrderModal = () => {\n        this.setState(\n            {\n                ...this.state,\n                isOpenOrders: !this.state.isOpenOrders\n            }\n        )\n    }\n\n    onToggleReviewModal = () => {\n        this.setState(\n            {\n                ...this.state,\n                isOpenReviews: !this.state.isOpenReviews\n            }\n        )\n    }\n\n\n    drawStars = (rate) => {\n        var stars = '';\n        for (var i = 0; i < rate; i++) {\n            stars = stars + '⭐'\n        }\n        return stars;\n    }\n\n    render() {\n        const shop = this.state.shop;\n        const owner = this.state.shopOwner;\n        const isOrderModal = (this.state.isOpenOrders) ? \"\" : \"hidden\";\n        const isUserOwner = (Object.keys(this.state.shop).length > 0\n            && this.props.loggedInUser._id === this.props.currShop.owner._id)\n        // console.log('chats in shop ccc', this.props.loggedInUser.chats);\n\n        return (\n            <section>\n                {(!shop.owner || !shop.location || !shop.reviews) ? <h1>Loading...</h1> :\n\n                    <div className=\"shop-details-main-box\">\n                        <div className=\"shop-details-header\">\n                            <h2 className=\"shop-details-heading\">{shop.name}</h2>\n                            <div className=\"shop-rate-box\">\n                                <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\n                                {shop && <p className=\"shop-rate-rating\">{shop.rate.rating}  </p>}\n                                {shop && <p className=\"shop-rate-count\">({shop.rate.count})  </p>}\n\n                            </div>\n                        </div>\n\n                        <div className=\"shop-details-img-box\">\n                            {\n                                (shop.imgUrls) ?\n                                    shop.imgUrls.map((imgUrl, index) => {\n                                        return <img className={`shop-details-img-${index}`} src={imgUrl} />\n                                    })\n                                    : ''\n                            }\n                        </div>\n                        <div className=\"top-screen-box\">\n                            <div className=\"shop-details-section\">\n                                <div className=\"shop-owner-details\">\n                                <img className=\"shop-owner-img\" src={shop.owner.imgUrl} />\n                                <div className=\"contact-box\">\n                                    {owner.gender && <FontAwesomeIcon className=\"contact-icon\"\n                                        icon={(owner.gender === 'Male') ? faMale : faFemale} />}\n                                    <p>{shop.owner.fullName}</p>\n                                </div>\n\n                                <div className=\"contact-box\">\n                                    <FontAwesomeIcon className=\"contact-icon\" icon={faMobileAlt} />\n                                    <p>{shop.owner.contact.phone}</p>\n                                </div>\n\n                                <div className=\"contact-box\">\n                                    <FontAwesomeIcon className=\"contact-icon\" icon={faEnvelope} />\n                                    <p>{shop.owner.contact.email}</p>\n                                </div>\n                                </div>\n\n\n                                {this.state.shop.owner._id === this.props.loggedInUser._id && \n                             <div className={`order-list-box`}>\n                                 {/* <div className=\"red-circle\"></div> */}\n                                <button className=\"order-modal-button\" onClick={this.onToggleOrderModal}>Adoption Requests</button>\n                                    <OrderListModal isOpen={isOrderModal} isShop={true} orderFilterName={\"shop._id\"}\n                                        filterById={this.state.shop._id} onToggleOrderModal={this.onToggleOrderModal} />\n                            </div>}\n\n                            </div>\n                            < div className=\"shop-description\">\n                                    <p>{shop.desc}</p>\n                                </div>\n                            </div>\n                        <div className=\"bottom-screen-box\">\n\n                            <div className=\"reviews-box\">\n                                <h3>What they say about us</h3>\n                                <button className=\"open-reviews-btn\" onClick={this.onToggleReviewModal}>\n                                    {(!this.state.isOpenReviews) ? 'Tell Us What You Think' : `Close`}\n                                </button>\n                                <div className={(this.state.isOpenReviews) ? `review-modal` : `hidden`}>\n                                    <form className=\"review-form\">\n                                        <div className=\"flex column\">\n                                            <TextField\n                                                id=\"standard-textarea\"\n                                                label=\"Your Review\"\n                                                placeholder=\"Write your review\"\n                                                multiline\n                                                name=\"txt\"\n                                                onChange={this.handleInput}\n                                            />\n                                            <FormControl>\n                                                <InputLabel htmlFor=\"rate\">Your rate</InputLabel>\n                                                <Select\n                                                    native\n                                                    onChange={this.handleInput}\n                                                    inputProps={{\n                                                        name: \"rate\",\n                                                    }}>\n                                                    <option aria-label=\"None\" value=\"\" />\n                                                    <option value=\"5\">5</option>\n                                                    <option value=\"4\">4</option>\n                                                    <option value=\"3\">3</option>\n                                                    <option value=\"2\">2</option>\n                                                    <option value=\"1\">1</option>\n                                                </Select>\n                                            </FormControl>\n                                        </div>\n                                        <button className=\"add-review-btn\" onClick={this.onAddReview}>Publish</button>\n                                    </form>\n                                </div>\n                                {(!shop.reviews) ? <h1>Loading Reviews...</h1> :\n                                    <ul className=\"reviews-list\">\n                                        {shop.reviews.map(review => {\n                                            return <li className=\"review\">\n                                                <p className=\"review-text\">{review.txt}</p>\n                                                <p><span>Rate: </span>{this.drawStars(review.rate)}</p>\n                                                <p><span>From: </span>{review.by.fullName}</p>\n                                            </li>\n                                        }\n\n                                        )}\n                                    </ul>}\n                            </div>\n                            <div className=\"shop-location-box\">\n\n                                <div className=\"map-container\">\n                                    <GoogleMap lat={shop.location.lat} lng={shop.location.lng} name={shop.location.name} />\n                                </div>\n                                <FontAwesomeIcon className=\"arrow-icon\" icon={faAngleDoubleUp} />\n                                <div className=\"shop-location-name\">\n                                    <h2>We are located at {shop.location.name}</h2>\n                                </div>\n\n                            </div>\n\n                        </div>\n                        <div className=\"pets-box\" >\n                            <h2 className=\"our-pets-heading\">Our Pets</h2>\n                            <PetList pets={this.state.shopPets} onRemove={this.onRemove} />\n                        </div>\n                    </div>\n\n                }\n            </section>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        currShop: state.shopReducer.currShop,\n        pets: state.petReducer.pets,\n        loggedInUser: state.userReducer.loggedInUser,\n        currChat: state.chatReducer.currChat\n    }\n}\n\nconst mapDispatchToProps = {\n    getShopById,\n    saveShop,\n    loadPets,\n    savePet\n}\n\nexport const ShopDetails = connect(mapStateToProps, mapDispatchToProps)(_ShopDetails);","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\n\nimport { Button, TextField } from '@material-ui/core';\nimport {\n    loadUsers,\n    removeUser,\n    login,\n    logout,\n    signup\n} from '../store/actions/userActions.js';\nimport { getChatById, getChatsByUserId } from '../store/actions/chatActions.js';\nclass _LoginModal extends Component {\n\n    state = {\n        msg: '',\n        loginCred: {\n            userName: '',\n            password: ''\n        },\n        showModal: false\n    }\n\n    loginHandleChange = ev => {\n        const { name, value } = ev.target;\n        this.setState(prevState => ({\n            loginCred: {\n                ...prevState.loginCred,\n                [name]: value\n            }\n        }));\n    };\n\n    closeModal = () => {\n        this.props.onNavBarClick()\n    }\n\n    doLogin = async ev => {\n        ev.preventDefault();\n        const { userName, password } = this.state.loginCred;\n        if (!userName || !password) {\n            return this.setState({ msg: 'Please enter user/password' });\n        }\n        const userCreds = { userName, password };\n        await this.props.login(userCreds);\n        this.setState({ loginCred: { userName: '', password: '' } });\n        this.props.onNavBarClick()\n\n    };\n\n    render() {\n        return (\n            <div>\n                {/* <div onClick={()=>{this.props.onNavBarClick()}} className=\"modal-screen\">heyyyyyyyy</div> */}\n                <div className=\"login-modal\">\n                    <form onSubmit={this.doLogin}>\n                        <TextField\n                            autoFocus={true}\n                            required={true}\n                            type=\"text\"\n                            name=\"userName\"\n                            value={this.state.loginCred.userName}\n                            onChange={this.loginHandleChange}\n                            placeholder=\"User Name\"\n                        />\n                        <br />\n                        <br />\n\n                        <TextField\n                            required={true}\n                            type=\"password\"\n                            name=\"password\"\n                            value={this.state.loginCred.password}\n                            onChange={this.loginHandleChange}\n                            placeholder=\"Password\"\n                        />\n                        <br />\n                        <br />\n\n                        <Button onClick={this.doLogin} variant=\"text\" variant=\"outlined\" color=\"primary\" >Login</Button>\n\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        users: state.userReducer.users\n    };\n};\nconst mapDispatchToProps = {\n    login,\n    logout,\n    signup,\n    removeUser,\n    loadUsers,\n    getChatsByUserId,\n    getChatById\n};\n\n\n\nexport const LoginModal = connect(mapStateToProps, mapDispatchToProps)(_LoginModal);","import React, { Component } from 'react'\nimport { NavLink, Router, withRouter } from 'react-router-dom'\nimport { LoginModal } from './LoginModal'\nimport { connect } from 'react-redux';\nimport { loadShops } from '../store/actions/shopActions'\nimport { logout } from '../store/actions/userActions';\nimport { toggleChat } from '../store/actions/chatActions.js';\n\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faComments } from '@fortawesome/free-solid-svg-icons'\n\n\nclass _NavBar extends Component {\n\n    state = {\n        showLoginModal: false,\n        showChatsList: false,\n        shop: '',\n        shopId: '',\n        pathName: ''\n    }\n    componentDidMount() {\n        this.setState({ pathName: this.props.history.location.pathname })\n\n    }\n    componentDidUpdate = async (prevProps) => {\n        if (this.props.user && prevProps.user._id !== this.props.user._id) {\n            await this.props.loadShops()\n            const shops = this.props.shops\n            if (this.props.user) {\n                const { user } = this.props\n                const userId = user._id\n                const userShop = shops.find(shop => shop.owner._id === userId)\n                if (userShop) this.setState({ shopId: userShop._id, shop: userShop })\n            }\n        }\n    }\n\n    onNavBarClick = () => {\n        this.setState({ showLoginModal: !this.state.showLoginModal });\n\n    }\n\n    onLogOut = () => {\n        this.props.logout();\n        this.props.history.push('/');\n\n    }\n\n    onToggleChats = () => {\n        this.props.toggleChat({chatInfo:'demo'});\n    }\n\n    render() {\n        const { user } = this.props\n        return (\n            <div>\n\n                <div className={this.props.history.location.pathname === '/' ? 'main-nav' : 'main-nav-not-home'}>\n                    <div className=\"left-nav\">\n                        <NavLink to=\"/\"><img className=\"logo-up\" src={require('../assets/img/logo.png')} alt=\"Home\" /></NavLink>\n                        <NavLink className=\"nav-btn\" to=\"/pet\">Gallery</NavLink>\n                    </div>\n                    <div className=\"right-nav\">\n\n                        {user && user.isOwner && this.state.shopId && <NavLink className=\"nav-btn shop-btn\" to={`/shop/${this.state.shopId}`}> <img className=\"shop-img\" src={this.state.shop.imgUrls[0]} alt=\"\" /> {this.state.shop.name}</NavLink>}\n                        {user && !user.isOwner && !user.isGuest && <NavLink className=\"nav-btn\" to={`/profile/${user._id}`}>{user.fullName}</NavLink>}\n\n                        {user && !user.isGuest && <div className=\"chats-btn nav-btn\" onClick={this.onToggleChats}>\n                            <FontAwesomeIcon className=\"send-icon\" icon={faComments} /> </div>}\n\n                        {user && user.isGuest && <button className=\"login-btn nav-btn\" onClick={() => { this.onNavBarClick() }}>Login</button>}\n                        {user && !user.isGuest && <button className=\"logout-btn nav - btn\" onClick={() => { this.onLogOut() }}>Logout</button>}\n\n                        {this.state.showLoginModal && <LoginModal onNavBarClick={this.onNavBarClick} />}\n\n                        {user && user.isGuest && <NavLink className=\"nav-btn\" to=\"/signup\">Sign Up</NavLink>}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isChatShown: state.chatReducer.isChatShown,\n        user: state.userReducer.loggedInUser,\n        shops: state.shopReducer.shops,\n    };\n};\n\nconst mapDispatchToProps = {\n    loadShops,\n    logout,\n    toggleChat\n}\n\nexport const NavBar = withRouter(connect(mapStateToProps, mapDispatchToProps)(_NavBar))\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { OrderList } from '../cmps/OrderList.jsx';\nimport { UserData } from '../cmps/UserData.jsx';\nimport userService from '../services/userService.js';\nimport { loadOrders } from '../store/actions/orderActions.js'\n\n\nexport class _userProfile extends Component {\n\n\n    state = {\n        user: null\n    }\n\n    async componentDidMount() {\n        const userId = this.props.match.params.id\n        const user = await userService.getById(userId)\n        this.setState({ user: { ...user } });\n\n    }\n\n    getUserOrders = () => {\n\n        const orders = this.props.loadOrders(this.state.user._id, 'buyer._id')\n    }\n\n    render() {\n        const { user } = this.state;\n        const loggedInUser = this.props.loggedInUser;\n        if (!user) return <h3>Loading...</h3>\n        return (\n            <div className=\"flex column align-center user-profile \"> \n                <UserData user={user} display=\"grid\"/>\n                <hr/>\n                { user._id === loggedInUser._id &&\n                    <div className=\"user-profile-adoptions flex column\">\n                        <h2>My Adoption Requests</h2>\n                        <OrderList isShop={false} orderFilterName={\"buyer._id\"} filterById={user._id} />\n                    </div>}\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        loggedInUser: state.userReducer.loggedInUser,\n    }\n}\n\nconst mapDispatchToProps = {\n    loadOrders\n\n}\n\n\nexport const userProfile = connect(mapStateToProps, mapDispatchToProps)(_userProfile)","import React, { Component } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport {  FacebookIcon, TwitterIcon } from 'react-share'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\n\nexport class Footer extends Component {\n\n    \n\n\n    render() {\n        return (\n            <div className=\"footer full\">\n                <NavLink to=\"/\"><img className=\"logo-footer\" src={require('../assets/img/logo-with-title.png')} alt=\"Home\" /></NavLink>\n                <p>Powered By ADA Systems.</p>\n                <div className=\"social\">\n                <a href=\"https://www.facebook.com/iHeartDogscom\" target=\"_blank\"><FacebookIcon size={30} /></a>\n                <a href=\"https://twitter.com/AdoptCatsDogs\" target=\"_blank\"><TwitterIcon size={30} /></a>\n                <a href=\"https://www.instagram.com/charlie_retriever/?hl=en\" target=\"_blank\"><img className=\"insta-logo\" src={require('../assets/img/insta.png')} alt=\"\"/></a>\n                </div>\n            </div>\n        )\n    }\n}\n","import io from 'socket.io-client';\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3002/'\r\nconst socketService = createSocketService();\r\n// const socketService = createDummySocketService();\r\n\r\nwindow.socketService = socketService;\r\nexport default socketService;\r\n\r\nfunction createSocketService() {\r\n  var socket;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl);\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb);\r\n    },\r\n    off(eventName, cb) {\r\n      socket.off(eventName, cb);\r\n    },\r\n    emit(eventName, data) {\r\n\r\n      socket.emit(eventName, data);\r\n    },\r\n    terminate() {\r\n      socket = null;\r\n    }\r\n  }\r\n  return socketService;\r\n}\r\n\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    setup() {\r\n      listenersMap = {}\r\n      window.listenersMap = listenersMap;\r\n    },\r\n    terminate() {\r\n      listenersMap = {}\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return;\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      });\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  return socketService;\r\n}\r\n","\nimport React, { Component } from 'react'\nimport socketService from '../services/socketService'\nimport { connect } from 'react-redux';\nimport { loadPets } from '../store/actions/petActions.js';\nimport { saveChat, getChatById, toggleChat } from '../store/actions/chatActions.js';\nimport { updateUser } from '../store/actions/userActions.js';\nimport userService from '../services/userService.js'\nimport { shopService } from '../services/shopService.js'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { faTimes, faPaperPlane } from '@fortawesome/free-solid-svg-icons'\n\n\nclass _Chat extends Component {\n\n    state = {\n        chat: {\n            topic: '',\n            members: [],\n            msgs: []\n        },\n        msg: {\n            authorId: '',\n            createdAt: '',\n            txt: '',\n            isRead: false\n        },\n        recipient: {},\n        sender: {}\n    }\n\n    async componentDidMount() {\n        var sender = this.props.loggedInUser;\n        await this.setState({ sender })\n        \n        let isDemo = null\n        if (this.props.currChatInfo.chatInfo) {\n            \n            isDemo=true;\n            const recipient ={\n                imgUrl:`https://ui-avatars.com/api/?name=G+$u`,\n                name:'Guest'\n            } \n            this.setState({ recipient });\n        \n        } else{\n\n            await this.setRecipientInfo(this.props.currChatInfo.userId);\n        }\n        const chat = this.getChatIfExists() || this.creatNewChat(isDemo);\n        this.setState({ chat }, () => this.setSocket());\n\n    }\n    componentWillUnmount() {\n        socketService.off('chat addMsg', this.addMsg);\n        socketService.terminate();\n    }\n\n    getChatIfExists() {\n        const chats = this.props.chats.find(chat => {\n            return (chat.members.includes(this.state.sender._id) && chat.members.includes(this.state.recipient._id))\n        })\n        return chats\n    }\n\n\n    setRecipientInfo = async (id) => {\n\n        let recipient = await userService.getMiniById(id);\n        if (!recipient.imgUrl) {\n            const name = recipient.name.split(' ');\n            recipient.imgUrl = `https://ui-avatars.com/api/?name=${name[0]}+${name[1]}`\n        }\n        if (recipient.isOwner) {\n            const shop = await shopService.getMiniByUserId(recipient._id);\n            recipient.name = shop.name;\n            recipient.imgUrl = shop.imgUrl;\n        }\n        this.setState({ recipient });\n    }\n\n    setSocket = () => {\n        socketService.setup();\n        socketService.emit('chat topic', this.state.chat.topic);\n        socketService.on('chat addMsg', this.addMsg);\n    }\n\n    creatNewChat = (isDemo) => {\n        let chat={};\n        console.log(this.state);\n        if (isDemo){\n            chat = {\n                topic: `guest__${this.state.sender._id}`,\n                members: [this.state.sender._id, this.state.recipient._id],\n                msgs: []\n            }\n            return chat;\n        }\n        chat = {\n            topic: `${this.state.sender._id}__${this.state.recipient._id}`,\n            members: [this.state.sender._id, this.state.recipient._id],\n            msgs: []\n        }\n        return chat;\n    }\n\n\n    getRecipientId(members) {\n        const id = members.find(member => member !== this.props.loggedInUser._id)\n        return id\n    }\n\n    addMsg = async newMsg => {\n        console.log('incoming msg:',newMsg);\n        this.setState({\n            chat: {\n                ...this.state.chat,\n                msgs: [...this.state.chat.msgs, newMsg]\n            }\n        }, () => this.props.saveChat(this.state.chat));\n    }\n\n    sendMsg = async (ev) => {\n        ev.preventDefault();\n        const msg = {\n            authorId: this.props.loggedInUser._id,\n            createdAt: new Date(),\n            txt: this.state.msg.txt,\n            isRead: false\n        }\n        await this.setState({ msg: { ...msg } });\n        socketService.emit('chat newMsg', this.state.msg);\n        this.setState({ msg: { authorId: '', createdAt: '', txt: '', isRead: false } });\n    }\n\n    msgHandleChange = ev => {\n        const { name, value } = ev.target;\n        this.setState(prevState => {\n            return {\n                msg: {\n                    ...prevState.msg,\n                    [name]: value\n                }\n            };\n        });\n    }\n\n    onClose = () => {\n        this.props.toggleChat();\n    }\n\n    displayMsg = (msg, idx) => {\n        let classTxt = 'message-row ';\n        const time = new Date(msg.createdAt);\n        const isAuthor = msg.authorId === this.state.sender._id;\n        classTxt += isAuthor ? 'sender' : 'recipient';\n        return (\n            <div className={classTxt} key={idx}>\n                {!isAuthor && <img src={this.state.recipient.imgUrl} alt=\"\" />}\n                <div className=\"message-content\">\n                    <div className=\"txt\">{msg.txt}</div>\n                    <div className=\"date\" >{time.getHours() + ':' + time.getMinutes()}</div>\n                </div>\n            </div>\n        )\n    }\n\n\n\n    render() {\n        return (\n            <div className=\"chat-container\">\n                <section className=\"chat-title flex space-evenly\">\n                    {this.state.recipient && <span>{this.state.recipient.name}</span>}\n                    <button className=\"btn-close btn\" onClick={this.onClose}><FontAwesomeIcon className=\"close-icon\" icon={faTimes} /></button>\n                </section>\n                <section className=\"msgs-container\">\n                    {this.state.chat.msgs && this.state.chat.msgs.slice(0).reverse().map((msg, idx) => (\n                        this.displayMsg(msg, idx))\n                    )}\n                </section>\n                <form onSubmit={this.sendMsg}>\n                    <section className=\"input-container flex space-around\">\n                        <input\n                            type=\"text\"\n                            value={this.state.msg.txt}\n                            onChange={this.msgHandleChange}\n                            name=\"txt\"\n                            autoComplete=\"off\"\n                            placeholder=\"Type Message Here\"\n                        />\n                        <button className=\"btn-send\"><FontAwesomeIcon className=\"send-icon\" icon={faPaperPlane} /></button>\n                    </section>\n                </form>\n            </div>\n        )\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        isChatShown: state.chatReducer.isChatShown,\n        chats: state.chatReducer.chats,\n        currChatInfo: state.chatReducer.currChatInfo,\n        pets: state.petReducer.pets,\n        loggedInUser: state.userReducer.loggedInUser,\n    }\n}\n\nconst mapDispatchToProps = {\n    loadPets,\n    saveChat,\n    getChatById,\n    updateUser,\n    toggleChat\n}\n\nexport const Chat = connect(mapStateToProps, mapDispatchToProps)(_Chat)","import React, { Component } from 'react'\nimport { Switch, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Home } from './pages/Home';\nimport { SignUp } from './pages/SignUp';\nimport { About } from './cmps/About';\nimport { PetApp } from './pages/PetApp';\nimport { PetEdit } from './pages/PetEdit';\nimport { PetDetails } from './pages/PetDetails';\nimport { ShopDetails } from './pages/ShopDetails';\nimport { NavBar } from './cmps/NavBar';\nimport { userProfile } from './pages/userProfile';\nimport { Footer } from './cmps/Footer';\nimport {Chat} from './cmps/Chat.jsx'\nimport { toggleChat } from './store/actions/chatActions.js';\n\n class _App extends Component {\n\n  state={\n    isChatShown:false\n  }\n\n  componentDidMount(){\n    this.setState({isChatShown:this.props.isChatShown})\n  }\n  componentDidUpdate(prevProps){\n    if(prevProps!==this.props) this.setState({isChatShown:this.props.isChatShown})\n  }\n\n\n  render() {\n   \n    \n\n    return (\n      <div>\n        <header >\n          <NavBar  onToggleChatsList={this.onToggleChatsList}/>\n        </header>\n        <main>\n          {this.state.isChatShown && <Chat/>}\n          <Switch>\n            <Route component={ShopDetails} path=\"/shop/:id\" />\n            <Route component={PetDetails}  path=\"/details/:id?\" />\n            <Route component={PetEdit} path=\"/edit/:id?\" />\n            <Route component={SignUp} path=\"/signup/:type?\" />\n            <Route component={userProfile} path=\"/profile/:id\" />\n            <Route component={PetApp} path=\"/pet/:filterType?\" />\n            <Route component={Home} path=\"/\" /> \n          </Switch>\n        </main>\n        <footer>\n          <Footer />\n        </footer>\n      </div >\n    );\n  }\n  \n}\n\nconst mapStateToProps = state => {\n  return {\n      isChatShown: state.chatReducer.isChatShown,\n     \n  }\n}\n\nconst mapDispatchToProps = {\n  toggleChat\n}\n\nexport const App = connect(mapStateToProps)(_App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\n    pets: [],\n    filterBy: {\n        type: '',\n        gender: '',\n        breed: '',\n        size: '',\n        txt: '',\n        distance: {\n            lat: 0,\n            lon: 0,\n            range: 0\n        }\n    }\n}\n\nexport function petReducer(state = initialState, action) {\n\n    switch (action.type) {\n        case 'LOAD_PETS':\n            return {\n                ...state,\n                pets: [...action.pets]\n            }\n            case 'ADD_PET':\n                return {\n                    ...state,\n                    pets: [...state.pets, action.petToSave]\n                }\n                case 'EDIT_PET':\n                    console.log(action.petToSave);\n                    return {\n                        ...state,\n                        pets: state.pets.map(pet => {\n                            if (pet._id === action.petToSave._id) return action.petToSave\n                            return pet\n                        })\n                    }\n                    case 'REMOVE_PET':\n                        return {\n                            ...state,\n                            pets: state.pets.filter(pet => pet._id !== action.petId)\n                        }\n                        case 'SET_FILTER':\n                            console.log(action.filterBy);\n                            return {\n                                ...state,\n                                filterBy: {\n                                    ...state.filterBy,\n                                    ...action.filterBy\n                                }\n                            }\n                            default:\n                                return state;\n    }\n}","const initialState = {\n    shops: [],\n    currShop: {}\n}\n\nexport function shopReducer(state = initialState, action) {\n\n    switch (action.type) {\n        case 'LOAD_SHOPS':\n            return {\n                ...state,\n                shops: [...action.shops]\n            }\n        case 'GET_SHOP':\n            return {\n                ...state,\n                currShop: JSON.parse(JSON.stringify(action.shop))\n            }\n        case 'ADD_SHOP':\n            return {\n                ...state,\n                shops: [...state.shops, action.shopToSave]\n            }\n        case 'EDIT_SHOP':\n            return {\n                ...state,\n                shops: state.shops.map(shop => {\n                    if (shop._id === action.shopToSave._id) return action.shopToSave;\n                    return shop;\n                })\n            }\n        case 'REMOVE_SHOP':\n            return {\n                ...state,\n                shops: state.shops.filter(shop => shop._id !== action.shopId)\n            }\n        default:\n            return state;\n    }\n\n}","let localLoggedinUser = {_id: 'guest', fullName: 'guest', isGuest: true};\n\nconst initialState = {\n    loggedInUser: localLoggedinUser,\n    users: []\n};\n\nexport function userReducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case 'SET_USER':\n            // console.log('action.user', action.user);\n            return {\n                ...state, loggedInUser: action.user\n            };\n        // case 'UPDATE_USER':\n        //     return {\n        //         ...state,\n        //         users: state.users.map(user => {\n        //             if (user._id === action.userToSave._id) return action.userToSave;\n        //             return user;\n        //         })\n        //     }\n        case 'UPDATE_USER':\n            return {\n                ...state,\n                loggedInUser: action.userToSave\n            }\n        case 'USER_REMOVE':\n            return {\n                ...state,\n                users: state.users.filter(user => user._id !== action.userId)\n            };\n        case 'SET_USERS':\n            return {\n                ...state, users: action.users\n            };\n        case 'LOGOUT':\n            return {\n                ...state, loggedInUser: localLoggedinUser\n            };\n        default:\n            return state;\n    }\n}","const initialState = {\n    orders: [],\n    filterBy: {\n        shop:''\n    }\n}\n\nexport function orderReducer(state = initialState, action) {\n    switch (action.type) {\n        case 'LOAD_ORDERS':\n            return {\n                ...state,\n                orders: [...action.orders]\n            }\n        case 'ADD_ORDER':\n            return {\n                ...state,\n                orders: [...state.orders, action.orderToSave]\n            }\n        case 'EDIT_ORDER':\n            return {\n                ...state,\n                orders: state.orders.map(order => {\n                    if (order._id === action.orderToSave._id) return action.orderToSave;\n                    return order;\n                })\n            }\n        case 'REMOVE_ORDER':\n            return {\n                ...state,\n                orders: state.orders.filter(order => order._id !== action.orderId)\n            }\n        case 'SET_FILTER':\n            return {\n                ...state,\n                filterBy: { ...state.filterBy, ...action.filterBy }\n            }\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    isChatShown:false,\n    currChatInfo:null,\n    chats: [],\n    currChatId:'',\n    filterBy: {}\n}\n\nexport function chatReducer(state = initialState, action) {\n    switch (action.type) {\n        case 'TOGGLE_CHAT':\n            if (!action.chatInfo){\n                return {\n                    ...state,\n                    isChatShown: false,\n                    currChatInfo: {...action.chatInfo}\n                }\n            }\n            return {\n                ...state,\n                isChatShown: true,\n                currChatInfo: {...action.chatInfo}\n            }\n        case 'LOAD_CHATS':\n            return {\n                ...state,\n                chats: [...action.chats]\n            }\n        case 'GET_CHAT':\n            return {\n                ...state,\n                chats: [...state.chats,action.chat]\n            }\n        case 'ADD_CHAT':\n            return {\n                ...state,\n                chats: [...state.chats, action.chatToSave],\n            }\n        case 'EDIT_CHAT':\n            return {\n                ...state,\n                chats: state.chats.map(chat => {\n                    if (chat._id === action.chatToSave._id) return action.chatToSave;\n                    return chat;\n                }),\n            }\n        case 'REMOVE_CHAT':\n            return {\n                ...state,\n                chats: state.chats.filter(chat => chat._id !== action.chatId)\n            }\n        case 'SET_FILTER':\n            return {\n                ...state,\n                filterBy: { ...state.filterBy, ...action.filterBy }\n            }\n        default:\n            return state;\n    }\n}\n","import { createStore, applyMiddleware, compose, combineReducers } from 'redux'\nimport thunk from 'redux-thunk'\nimport { petReducer } from './reducers/petReducer';\nimport { shopReducer } from './reducers/shopReducer';\nimport { userReducer } from './reducers/userReducer'\nimport { orderReducer } from './reducers/orderReducer'\nimport { chatReducer } from './reducers/chatReducer';\n// import { reviewReducer } from './reducers/reviewReducer';\n\nconst rootReducer = combineReducers({\n    petReducer,\n    shopReducer,\n    userReducer,\n    orderReducer,\n    chatReducer\n})\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/scss/global.scss'\nimport { App } from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux'\nimport {store} from './store/store'\nimport {HashRouter as Router} from 'react-router-dom'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}> \n    <Router>\n    <App />\n    </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}